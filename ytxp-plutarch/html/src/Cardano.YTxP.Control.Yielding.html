<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="local-6989586621679210670"><span id="local-6989586621679210671"></span></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-orphans #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="annot"><span class="hs-comment">{- | Module: Caradno.YTxP.Control.Stubs
Description: TODO

Add note on orphan instances. We want to have the haskell types come from the shared SDK
so that other onchain implementations can reuse those same types. This however,
forces us to declare orphan instances for haskell -&gt; plutarch conversion
-}</span></span><span>
</span><span id="line-10"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cardano.YTxP.Control.Yielding</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-11"></span><span>  </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#getAuthorisedScriptHash"><span class="hs-identifier">getAuthorisedScriptHash</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>  </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptPurpose"><span class="hs-identifier">PAuthorisedScriptPurpose</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PMinting"><span class="hs-identifier">PMinting</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PSpending"><span class="hs-identifier">PSpending</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PRewarding"><span class="hs-identifier">PRewarding</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>  </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PYieldingRedeemer"><span class="hs-identifier">PYieldingRedeemer</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span class="hs-keyword">where</span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-comment">-- TODO rename</span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Vendored.html"><span class="hs-identifier">Cardano.YTxP.Control.Vendored</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.YTxP.Control.Vendored.html#DerivePConstantViaEnum"><span class="hs-identifier">DerivePConstantViaEnum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.YTxP.Control.Vendored.html#DerivePConstantEnum"><span class="hs-identifier">DerivePConstantEnum</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Vendored.html#PlutusTypeEnumData"><span class="hs-identifier">PlutusTypeEnumData</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.YTxP.SDK.Redeemers</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-21"></span><span>  </span><span class="annot"><span class="hs-identifier">AuthorisedScriptIndex</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">AuthorisedScriptIndex</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>  </span><span class="annot"><span class="hs-identifier">AuthorisedScriptProofIndex</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">AuthorisedScriptProofIndex</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>  </span><span class="annot"><span class="hs-identifier">AuthorisedScriptPurpose</span></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>  </span><span class="annot"><span class="hs-identifier">YieldingRedeemer</span></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.DataRepr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">DerivePConstantViaData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">DerivePConstantViaData</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">PDataFields</span></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.LedgerApi</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-28"></span><span>  </span><span class="annot"><span class="hs-identifier">PCurrencySymbol</span></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>  </span><span class="annot"><span class="hs-identifier">PMaybeData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">PDJust</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">PDNothing</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>  </span><span class="annot"><span class="hs-identifier">PScriptHash</span></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>  </span><span class="annot"><span class="hs-identifier">PTxInInfo</span></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.Lift</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-34"></span><span>  </span><span class="annot"><span class="hs-identifier">DerivePConstantViaNewtype</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">DerivePConstantViaNewtype</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><span class="hs-identifier">PConstantDecl</span></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>  </span><span class="annot"><span class="hs-identifier">PLifted</span></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>  </span><span class="annot"><span class="hs-identifier">PUnsafeLiftDecl</span></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Utils.html"><span class="hs-identifier">Utils</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Utils.html#pmember"><span class="hs-identifier">pmember</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span>
</span><span id="line-41"></span><span class="hs-comment">{-
TODO: Add haddock for PAuthorisedScriptIndex
-}</span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span class="hs-keyword">newtype</span><span> </span><span id="PAuthorisedScriptIndex"><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptIndex"><span class="hs-identifier hs-var">PAuthorisedScriptIndex</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679210684"><span class="annot"><a href="#local-6989586621679210684"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PAuthorisedScriptIndex"><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptIndex"><span class="hs-identifier hs-var">PAuthorisedScriptIndex</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679210684"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PInteger</span></span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679210687"><span id="local-6989586621679210689"><span class="annot"><span class="annottext">(forall x.
 PAuthorisedScriptIndex s -&gt; Rep (PAuthorisedScriptIndex s) x)
-&gt; (forall x.
    Rep (PAuthorisedScriptIndex s) x -&gt; PAuthorisedScriptIndex s)
-&gt; Generic (PAuthorisedScriptIndex s)
forall x.
Rep (PAuthorisedScriptIndex s) x -&gt; PAuthorisedScriptIndex s
forall x.
PAuthorisedScriptIndex s -&gt; Rep (PAuthorisedScriptIndex s) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (s :: S) x.
Rep (PAuthorisedScriptIndex s) x -&gt; PAuthorisedScriptIndex s
forall (s :: S) x.
PAuthorisedScriptIndex s -&gt; Rep (PAuthorisedScriptIndex s) x
$cfrom :: forall (s :: S) x.
PAuthorisedScriptIndex s -&gt; Rep (PAuthorisedScriptIndex s) x
from :: forall x.
PAuthorisedScriptIndex s -&gt; Rep (PAuthorisedScriptIndex s) x
$cto :: forall (s :: S) x.
Rep (PAuthorisedScriptIndex s) x -&gt; PAuthorisedScriptIndex s
to :: forall x.
Rep (PAuthorisedScriptIndex s) x -&gt; PAuthorisedScriptIndex s
</span><a href="../../../ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679210693"><span id="local-6989586621679210699"><span class="annot"><span class="annottext">(forall (s :: S).
 PAuthorisedScriptIndex s -&gt; Term s (PInner PAuthorisedScriptIndex))
-&gt; (forall (s :: S) (b :: PType).
    Term s (PInner PAuthorisedScriptIndex)
    -&gt; (PAuthorisedScriptIndex s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType PAuthorisedScriptIndex
forall (s :: S).
PAuthorisedScriptIndex s -&gt; Term s (PInner PAuthorisedScriptIndex)
forall (s :: S) (b :: PType).
Term s (PInner PAuthorisedScriptIndex)
-&gt; (PAuthorisedScriptIndex s -&gt; Term s b) -&gt; Term s b
forall (a :: PType).
(forall (s :: S). a s -&gt; Term s (PInner a))
-&gt; (forall (s :: S) (b :: PType).
    Term s (PInner a) -&gt; (a s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType a
$cpcon' :: forall (s :: S).
PAuthorisedScriptIndex s -&gt; Term s (PInner PAuthorisedScriptIndex)
pcon' :: forall (s :: S).
PAuthorisedScriptIndex s -&gt; Term s (PInner PAuthorisedScriptIndex)
$cpmatch' :: forall (s :: S) (b :: PType).
Term s (PInner PAuthorisedScriptIndex)
-&gt; (PAuthorisedScriptIndex s -&gt; Term s b) -&gt; Term s b
pmatch' :: forall (s :: S) (b :: PType).
Term s (PInner PAuthorisedScriptIndex)
-&gt; (PAuthorisedScriptIndex s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">PlutusType</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679210704"><span id="local-6989586621679210710"><span class="annot"><span class="annottext">(forall (s :: S).
 Term s (PAsData PAuthorisedScriptIndex)
 -&gt; Term s PAuthorisedScriptIndex)
-&gt; (forall (s :: S). Term s PAuthorisedScriptIndex -&gt; Term s PData)
-&gt; PIsData PAuthorisedScriptIndex
forall (s :: S).
Term s (PAsData PAuthorisedScriptIndex)
-&gt; Term s PAuthorisedScriptIndex
forall (s :: S). Term s PAuthorisedScriptIndex -&gt; Term s PData
forall (a :: PType).
(forall (s :: S). Term s (PAsData a) -&gt; Term s a)
-&gt; (forall (s :: S). Term s a -&gt; Term s PData) -&gt; PIsData a
$cpfromDataImpl :: forall (s :: S).
Term s (PAsData PAuthorisedScriptIndex)
-&gt; Term s PAuthorisedScriptIndex
pfromDataImpl :: forall (s :: S).
Term s (PAsData PAuthorisedScriptIndex)
-&gt; Term s PAuthorisedScriptIndex
$cpdataImpl :: forall (s :: S). Term s PAuthorisedScriptIndex -&gt; Term s PData
pdataImpl :: forall (s :: S). Term s PAuthorisedScriptIndex -&gt; Term s PData
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">PIsData</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span>
</span><span id="line-49"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">DerivePlutusType</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptIndex"><span class="hs-identifier hs-type">PAuthorisedScriptIndex</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="DPTStrat"><span class="annot"><span class="hs-identifier hs-var">DPTStrat</span></span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusTypeNewtype</span></span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679210739"><span class="annot"><span class="hs-identifier hs-type">PTryFrom</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptIndex"><span class="hs-identifier hs-type">PAuthorisedScriptIndex</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PUnsafeLiftDecl</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptIndex"><span class="hs-identifier hs-type">PAuthorisedScriptIndex</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="PLifted"><span class="annot"><span class="hs-identifier hs-var">PLifted</span></span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptIndex"><span class="hs-identifier hs-type">PAuthorisedScriptIndex</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AuthorisedScriptIndex</span></span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span id="local-6989586621679210766"><span id="local-6989586621679210775"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DerivePConstantViaNewtype</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">AuthorisedScriptIndex</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptIndex"><span class="hs-identifier hs-type">PAuthorisedScriptIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PInteger</span></span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-keyword">instance</span><span>
</span><span id="line-60"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PConstantDecl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">AuthorisedScriptIndex</span></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span class="hs-comment">{-
TODO: Add haddock for PAuthorisedScriptPurpose
-}</span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span class="hs-keyword">data</span><span> </span><span id="PAuthorisedScriptPurpose"><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptPurpose"><span class="hs-identifier hs-var">PAuthorisedScriptPurpose</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679210381"><span class="annot"><a href="#local-6989586621679210381"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PMinting"><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PMinting"><span class="hs-identifier hs-var">PMinting</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="PSpending"><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PSpending"><span class="hs-identifier hs-var">PSpending</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="PRewarding"><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PRewarding"><span class="hs-identifier hs-var">PRewarding</span></a></span></span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679210790"><span id="local-6989586621679210792"><span class="annot"><span class="annottext">(forall x.
 PAuthorisedScriptPurpose s -&gt; Rep (PAuthorisedScriptPurpose s) x)
-&gt; (forall x.
    Rep (PAuthorisedScriptPurpose s) x -&gt; PAuthorisedScriptPurpose s)
-&gt; Generic (PAuthorisedScriptPurpose s)
forall x.
Rep (PAuthorisedScriptPurpose s) x -&gt; PAuthorisedScriptPurpose s
forall x.
PAuthorisedScriptPurpose s -&gt; Rep (PAuthorisedScriptPurpose s) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (s :: S) x.
Rep (PAuthorisedScriptPurpose s) x -&gt; PAuthorisedScriptPurpose s
forall (s :: S) x.
PAuthorisedScriptPurpose s -&gt; Rep (PAuthorisedScriptPurpose s) x
$cfrom :: forall (s :: S) x.
PAuthorisedScriptPurpose s -&gt; Rep (PAuthorisedScriptPurpose s) x
from :: forall x.
PAuthorisedScriptPurpose s -&gt; Rep (PAuthorisedScriptPurpose s) x
$cto :: forall (s :: S) x.
Rep (PAuthorisedScriptPurpose s) x -&gt; PAuthorisedScriptPurpose s
to :: forall x.
Rep (PAuthorisedScriptPurpose s) x -&gt; PAuthorisedScriptPurpose s
</span><a href="../../../ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679210795"><span id="local-6989586621679210803"><span id="local-6989586621679210809"><span id="local-6989586621679210823"><span id="local-6989586621679210825"><span id="local-6989586621679210829"><span id="local-6989586621679210833"><span id="local-6989586621679210837"><span class="annot"><span class="annottext">Int -&gt; PAuthorisedScriptPurpose s
PAuthorisedScriptPurpose s -&gt; Int
PAuthorisedScriptPurpose s -&gt; [PAuthorisedScriptPurpose s]
PAuthorisedScriptPurpose s -&gt; PAuthorisedScriptPurpose s
PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s -&gt; [PAuthorisedScriptPurpose s]
PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s
-&gt; [PAuthorisedScriptPurpose s]
(PAuthorisedScriptPurpose s -&gt; PAuthorisedScriptPurpose s)
-&gt; (PAuthorisedScriptPurpose s -&gt; PAuthorisedScriptPurpose s)
-&gt; (Int -&gt; PAuthorisedScriptPurpose s)
-&gt; (PAuthorisedScriptPurpose s -&gt; Int)
-&gt; (PAuthorisedScriptPurpose s -&gt; [PAuthorisedScriptPurpose s])
-&gt; (PAuthorisedScriptPurpose s
    -&gt; PAuthorisedScriptPurpose s -&gt; [PAuthorisedScriptPurpose s])
-&gt; (PAuthorisedScriptPurpose s
    -&gt; PAuthorisedScriptPurpose s -&gt; [PAuthorisedScriptPurpose s])
-&gt; (PAuthorisedScriptPurpose s
    -&gt; PAuthorisedScriptPurpose s
    -&gt; PAuthorisedScriptPurpose s
    -&gt; [PAuthorisedScriptPurpose s])
-&gt; Enum (PAuthorisedScriptPurpose s)
forall a.
(a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; a -&gt; [a])
-&gt; Enum a
forall (s :: S). Int -&gt; PAuthorisedScriptPurpose s
forall (s :: S). PAuthorisedScriptPurpose s -&gt; Int
forall (s :: S).
PAuthorisedScriptPurpose s -&gt; [PAuthorisedScriptPurpose s]
forall (s :: S).
PAuthorisedScriptPurpose s -&gt; PAuthorisedScriptPurpose s
forall (s :: S).
PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s -&gt; [PAuthorisedScriptPurpose s]
forall (s :: S).
PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s
-&gt; [PAuthorisedScriptPurpose s]
$csucc :: forall (s :: S).
PAuthorisedScriptPurpose s -&gt; PAuthorisedScriptPurpose s
succ :: PAuthorisedScriptPurpose s -&gt; PAuthorisedScriptPurpose s
$cpred :: forall (s :: S).
PAuthorisedScriptPurpose s -&gt; PAuthorisedScriptPurpose s
pred :: PAuthorisedScriptPurpose s -&gt; PAuthorisedScriptPurpose s
$ctoEnum :: forall (s :: S). Int -&gt; PAuthorisedScriptPurpose s
toEnum :: Int -&gt; PAuthorisedScriptPurpose s
$cfromEnum :: forall (s :: S). PAuthorisedScriptPurpose s -&gt; Int
fromEnum :: PAuthorisedScriptPurpose s -&gt; Int
$cenumFrom :: forall (s :: S).
PAuthorisedScriptPurpose s -&gt; [PAuthorisedScriptPurpose s]
enumFrom :: PAuthorisedScriptPurpose s -&gt; [PAuthorisedScriptPurpose s]
$cenumFromThen :: forall (s :: S).
PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s -&gt; [PAuthorisedScriptPurpose s]
enumFromThen :: PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s -&gt; [PAuthorisedScriptPurpose s]
$cenumFromTo :: forall (s :: S).
PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s -&gt; [PAuthorisedScriptPurpose s]
enumFromTo :: PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s -&gt; [PAuthorisedScriptPurpose s]
$cenumFromThenTo :: forall (s :: S).
PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s
-&gt; [PAuthorisedScriptPurpose s]
enumFromThenTo :: PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s
-&gt; [PAuthorisedScriptPurpose s]
</span><a href="../../../ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Enum.html#Enum"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Enum</span></a></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679210841"><span id="local-6989586621679210843"><span class="annot"><span class="annottext">PAuthorisedScriptPurpose s
PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s
-&gt; Bounded (PAuthorisedScriptPurpose s)
forall a. a -&gt; a -&gt; Bounded a
forall (s :: S). PAuthorisedScriptPurpose s
$cminBound :: forall (s :: S). PAuthorisedScriptPurpose s
minBound :: PAuthorisedScriptPurpose s
$cmaxBound :: forall (s :: S). PAuthorisedScriptPurpose s
maxBound :: PAuthorisedScriptPurpose s
</span><a href="../../../ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Enum.html#Bounded"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Bounded</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679210847"><span id="local-6989586621679210853"><span class="annot"><span class="annottext">(forall (s :: S).
 PAuthorisedScriptPurpose s
 -&gt; Term s (PInner PAuthorisedScriptPurpose))
-&gt; (forall (s :: S) (b :: PType).
    Term s (PInner PAuthorisedScriptPurpose)
    -&gt; (PAuthorisedScriptPurpose s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType PAuthorisedScriptPurpose
forall (s :: S).
PAuthorisedScriptPurpose s
-&gt; Term s (PInner PAuthorisedScriptPurpose)
forall (s :: S) (b :: PType).
Term s (PInner PAuthorisedScriptPurpose)
-&gt; (PAuthorisedScriptPurpose s -&gt; Term s b) -&gt; Term s b
forall (a :: PType).
(forall (s :: S). a s -&gt; Term s (PInner a))
-&gt; (forall (s :: S) (b :: PType).
    Term s (PInner a) -&gt; (a s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType a
$cpcon' :: forall (s :: S).
PAuthorisedScriptPurpose s
-&gt; Term s (PInner PAuthorisedScriptPurpose)
pcon' :: forall (s :: S).
PAuthorisedScriptPurpose s
-&gt; Term s (PInner PAuthorisedScriptPurpose)
$cpmatch' :: forall (s :: S) (b :: PType).
Term s (PInner PAuthorisedScriptPurpose)
-&gt; (PAuthorisedScriptPurpose s -&gt; Term s b) -&gt; Term s b
pmatch' :: forall (s :: S) (b :: PType).
Term s (PInner PAuthorisedScriptPurpose)
-&gt; (PAuthorisedScriptPurpose s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">PlutusType</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679210857"><span id="local-6989586621679210863"><span class="annot"><span class="annottext">(forall (s :: S).
 Term s (PAsData PAuthorisedScriptPurpose)
 -&gt; Term s PAuthorisedScriptPurpose)
-&gt; (forall (s :: S).
    Term s PAuthorisedScriptPurpose -&gt; Term s PData)
-&gt; PIsData PAuthorisedScriptPurpose
forall (s :: S).
Term s (PAsData PAuthorisedScriptPurpose)
-&gt; Term s PAuthorisedScriptPurpose
forall (s :: S). Term s PAuthorisedScriptPurpose -&gt; Term s PData
forall (a :: PType).
(forall (s :: S). Term s (PAsData a) -&gt; Term s a)
-&gt; (forall (s :: S). Term s a -&gt; Term s PData) -&gt; PIsData a
$cpfromDataImpl :: forall (s :: S).
Term s (PAsData PAuthorisedScriptPurpose)
-&gt; Term s PAuthorisedScriptPurpose
pfromDataImpl :: forall (s :: S).
Term s (PAsData PAuthorisedScriptPurpose)
-&gt; Term s PAuthorisedScriptPurpose
$cpdataImpl :: forall (s :: S). Term s PAuthorisedScriptPurpose -&gt; Term s PData
pdataImpl :: forall (s :: S). Term s PAuthorisedScriptPurpose -&gt; Term s PData
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">PIsData</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679210868"><span class="annot"><span class="annottext">(forall (s :: S).
 Term s PAuthorisedScriptPurpose
 -&gt; Term s PAuthorisedScriptPurpose -&gt; Term s PBool)
-&gt; PEq PAuthorisedScriptPurpose
forall (s :: S).
Term s PAuthorisedScriptPurpose
-&gt; Term s PAuthorisedScriptPurpose -&gt; Term s PBool
forall (t :: PType).
(forall (s :: S). Term s t -&gt; Term s t -&gt; Term s PBool) -&gt; PEq t
$c#== :: forall (s :: S).
Term s PAuthorisedScriptPurpose
-&gt; Term s PAuthorisedScriptPurpose -&gt; Term s PBool
#== :: forall (s :: S).
Term s PAuthorisedScriptPurpose
-&gt; Term s PAuthorisedScriptPurpose -&gt; Term s PBool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">PEq</span></span></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">DerivePlutusType</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptPurpose"><span class="hs-identifier hs-type">PAuthorisedScriptPurpose</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-71"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="DPTStrat"><span class="annot"><span class="hs-identifier hs-var">DPTStrat</span></span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Vendored.html#PlutusTypeEnumData"><span class="hs-identifier hs-type">PlutusTypeEnumData</span></a></span><span>
</span><span id="line-72"></span><span>
</span><span id="line-73"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679210904"><span class="annot"><span class="hs-identifier hs-type">PTryFrom</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptPurpose"><span class="hs-identifier hs-type">PAuthorisedScriptPurpose</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PUnsafeLiftDecl</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptPurpose"><span class="hs-identifier hs-type">PAuthorisedScriptPurpose</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="PLifted"><span class="annot"><span class="hs-identifier hs-var">PLifted</span></span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptPurpose"><span class="hs-identifier hs-type">PAuthorisedScriptPurpose</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AuthorisedScriptPurpose</span></span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span id="local-6989586621679210928"><span id="local-6989586621679210938"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.YTxP.Control.Vendored.html#DerivePConstantViaEnum"><span class="hs-identifier hs-type">DerivePConstantViaEnum</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">AuthorisedScriptPurpose</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptPurpose"><span class="hs-identifier hs-type">PAuthorisedScriptPurpose</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-keyword">instance</span><span>
</span><span id="line-81"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PConstantDecl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">AuthorisedScriptPurpose</span></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span class="hs-comment">{-
TODO: Add haddock for PAuthorisedScriptProofIndex
-}</span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span class="hs-comment">-- TODO: Why do we need to wrap the args in PAsData here?</span><span>
</span><span id="line-88"></span><span class="hs-comment">-- If we don' there is some issues with the derivation of plutus types</span><span>
</span><span id="line-89"></span><span class="hs-keyword">newtype</span><span> </span><span id="PAuthorisedScriptProofIndex"><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptProofIndex"><span class="hs-identifier hs-var">PAuthorisedScriptProofIndex</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679210950"><span class="annot"><a href="#local-6989586621679210950"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PAuthorisedScriptProofIndex"><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptProofIndex"><span class="hs-identifier hs-var">PAuthorisedScriptProofIndex</span></a></span></span><span>
</span><span id="line-91"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-92"></span><span>          </span><span class="annot"><a href="#local-6989586621679210950"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-93"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptPurpose"><span class="hs-identifier hs-type">PAuthorisedScriptPurpose</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PInteger</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679210953"><span id="local-6989586621679210955"><span class="annot"><span class="annottext">(forall x.
 PAuthorisedScriptProofIndex s
 -&gt; Rep (PAuthorisedScriptProofIndex s) x)
-&gt; (forall x.
    Rep (PAuthorisedScriptProofIndex s) x
    -&gt; PAuthorisedScriptProofIndex s)
-&gt; Generic (PAuthorisedScriptProofIndex s)
forall x.
Rep (PAuthorisedScriptProofIndex s) x
-&gt; PAuthorisedScriptProofIndex s
forall x.
PAuthorisedScriptProofIndex s
-&gt; Rep (PAuthorisedScriptProofIndex s) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (s :: S) x.
Rep (PAuthorisedScriptProofIndex s) x
-&gt; PAuthorisedScriptProofIndex s
forall (s :: S) x.
PAuthorisedScriptProofIndex s
-&gt; Rep (PAuthorisedScriptProofIndex s) x
$cfrom :: forall (s :: S) x.
PAuthorisedScriptProofIndex s
-&gt; Rep (PAuthorisedScriptProofIndex s) x
from :: forall x.
PAuthorisedScriptProofIndex s
-&gt; Rep (PAuthorisedScriptProofIndex s) x
$cto :: forall (s :: S) x.
Rep (PAuthorisedScriptProofIndex s) x
-&gt; PAuthorisedScriptProofIndex s
to :: forall x.
Rep (PAuthorisedScriptProofIndex s) x
-&gt; PAuthorisedScriptProofIndex s
</span><a href="../../../ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679210958"><span id="local-6989586621679210964"><span class="annot"><span class="annottext">(forall (s :: S).
 PAuthorisedScriptProofIndex s
 -&gt; Term s (PInner PAuthorisedScriptProofIndex))
-&gt; (forall (s :: S) (b :: PType).
    Term s (PInner PAuthorisedScriptProofIndex)
    -&gt; (PAuthorisedScriptProofIndex s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType PAuthorisedScriptProofIndex
forall (s :: S).
PAuthorisedScriptProofIndex s
-&gt; Term s (PInner PAuthorisedScriptProofIndex)
forall (s :: S) (b :: PType).
Term s (PInner PAuthorisedScriptProofIndex)
-&gt; (PAuthorisedScriptProofIndex s -&gt; Term s b) -&gt; Term s b
forall (a :: PType).
(forall (s :: S). a s -&gt; Term s (PInner a))
-&gt; (forall (s :: S) (b :: PType).
    Term s (PInner a) -&gt; (a s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType a
$cpcon' :: forall (s :: S).
PAuthorisedScriptProofIndex s
-&gt; Term s (PInner PAuthorisedScriptProofIndex)
pcon' :: forall (s :: S).
PAuthorisedScriptProofIndex s
-&gt; Term s (PInner PAuthorisedScriptProofIndex)
$cpmatch' :: forall (s :: S) (b :: PType).
Term s (PInner PAuthorisedScriptProofIndex)
-&gt; (PAuthorisedScriptProofIndex s -&gt; Term s b) -&gt; Term s b
pmatch' :: forall (s :: S) (b :: PType).
Term s (PInner PAuthorisedScriptProofIndex)
-&gt; (PAuthorisedScriptProofIndex s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">PlutusType</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679210968"><span id="local-6989586621679210974"><span class="annot"><span class="annottext">(forall (s :: S).
 Term s (PAsData PAuthorisedScriptProofIndex)
 -&gt; Term s PAuthorisedScriptProofIndex)
-&gt; (forall (s :: S).
    Term s PAuthorisedScriptProofIndex -&gt; Term s PData)
-&gt; PIsData PAuthorisedScriptProofIndex
forall (s :: S).
Term s (PAsData PAuthorisedScriptProofIndex)
-&gt; Term s PAuthorisedScriptProofIndex
forall (s :: S). Term s PAuthorisedScriptProofIndex -&gt; Term s PData
forall (a :: PType).
(forall (s :: S). Term s (PAsData a) -&gt; Term s a)
-&gt; (forall (s :: S). Term s a -&gt; Term s PData) -&gt; PIsData a
$cpfromDataImpl :: forall (s :: S).
Term s (PAsData PAuthorisedScriptProofIndex)
-&gt; Term s PAuthorisedScriptProofIndex
pfromDataImpl :: forall (s :: S).
Term s (PAsData PAuthorisedScriptProofIndex)
-&gt; Term s PAuthorisedScriptProofIndex
$cpdataImpl :: forall (s :: S). Term s PAuthorisedScriptProofIndex -&gt; Term s PData
pdataImpl :: forall (s :: S). Term s PAuthorisedScriptProofIndex -&gt; Term s PData
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">PIsData</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">DerivePlutusType</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptProofIndex"><span class="hs-identifier hs-type">PAuthorisedScriptProofIndex</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-99"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="DPTStrat"><span class="annot"><span class="hs-identifier hs-var">DPTStrat</span></span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusTypeNewtype</span></span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679210998"><span class="annot"><span class="hs-identifier hs-type">PTryFrom</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptProofIndex"><span class="hs-identifier hs-type">PAuthorisedScriptProofIndex</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PUnsafeLiftDecl</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptProofIndex"><span class="hs-identifier hs-type">PAuthorisedScriptProofIndex</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-104"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="PLifted"><span class="annot"><span class="hs-identifier hs-var">PLifted</span></span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptProofIndex"><span class="hs-identifier hs-type">PAuthorisedScriptProofIndex</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AuthorisedScriptProofIndex</span></span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span id="local-6989586621679211029"><span id="local-6989586621679211037"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DerivePConstantViaNewtype</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">AuthorisedScriptProofIndex</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptProofIndex"><span class="hs-identifier hs-type">PAuthorisedScriptProofIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptPurpose"><span class="hs-identifier hs-type">PAuthorisedScriptPurpose</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PInteger</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span>  </span><span class="hs-keyword">instance</span><span>
</span><span id="line-109"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PConstantDecl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">AuthorisedScriptProofIndex</span></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="hs-comment">{-
TODO: Add haddock for PYieldingRedeemer
-}</span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span class="hs-keyword">newtype</span><span> </span><span id="PYieldingRedeemer"><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PYieldingRedeemer"><span class="hs-identifier hs-var">PYieldingRedeemer</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679211058"><span class="annot"><a href="#local-6989586621679211058"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PYieldingRedeemer"><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PYieldingRedeemer"><span class="hs-identifier hs-var">PYieldingRedeemer</span></a></span></span><span>
</span><span id="line-117"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-118"></span><span>          </span><span class="annot"><a href="#local-6989586621679211058"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-119"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PDataRecord</span></span><span>
</span><span id="line-120"></span><span>              </span><span class="hs-special">'</span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;authorisedScriptIndex&quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:=</span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptIndex"><span class="hs-identifier hs-type">PAuthorisedScriptIndex</span></a></span><span>
</span><span id="line-121"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;authorisedScriptProofIndex&quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:=</span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptProofIndex"><span class="hs-identifier hs-type">PAuthorisedScriptProofIndex</span></a></span><span>
</span><span id="line-122"></span><span>               </span><span class="hs-special">]</span><span>
</span><span id="line-123"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-124"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679211061"><span id="local-6989586621679211063"><span class="annot"><span class="annottext">(forall x. PYieldingRedeemer s -&gt; Rep (PYieldingRedeemer s) x)
-&gt; (forall x. Rep (PYieldingRedeemer s) x -&gt; PYieldingRedeemer s)
-&gt; Generic (PYieldingRedeemer s)
forall x. Rep (PYieldingRedeemer s) x -&gt; PYieldingRedeemer s
forall x. PYieldingRedeemer s -&gt; Rep (PYieldingRedeemer s) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (s :: S) x.
Rep (PYieldingRedeemer s) x -&gt; PYieldingRedeemer s
forall (s :: S) x.
PYieldingRedeemer s -&gt; Rep (PYieldingRedeemer s) x
$cfrom :: forall (s :: S) x.
PYieldingRedeemer s -&gt; Rep (PYieldingRedeemer s) x
from :: forall x. PYieldingRedeemer s -&gt; Rep (PYieldingRedeemer s) x
$cto :: forall (s :: S) x.
Rep (PYieldingRedeemer s) x -&gt; PYieldingRedeemer s
to :: forall x. Rep (PYieldingRedeemer s) x -&gt; PYieldingRedeemer s
</span><a href="../../../ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-126"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679211066"><span id="local-6989586621679211072"><span class="annot"><span class="annottext">(forall (s :: S).
 PYieldingRedeemer s -&gt; Term s (PInner PYieldingRedeemer))
-&gt; (forall (s :: S) (b :: PType).
    Term s (PInner PYieldingRedeemer)
    -&gt; (PYieldingRedeemer s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType PYieldingRedeemer
forall (s :: S).
PYieldingRedeemer s -&gt; Term s (PInner PYieldingRedeemer)
forall (s :: S) (b :: PType).
Term s (PInner PYieldingRedeemer)
-&gt; (PYieldingRedeemer s -&gt; Term s b) -&gt; Term s b
forall (a :: PType).
(forall (s :: S). a s -&gt; Term s (PInner a))
-&gt; (forall (s :: S) (b :: PType).
    Term s (PInner a) -&gt; (a s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType a
$cpcon' :: forall (s :: S).
PYieldingRedeemer s -&gt; Term s (PInner PYieldingRedeemer)
pcon' :: forall (s :: S).
PYieldingRedeemer s -&gt; Term s (PInner PYieldingRedeemer)
$cpmatch' :: forall (s :: S) (b :: PType).
Term s (PInner PYieldingRedeemer)
-&gt; (PYieldingRedeemer s -&gt; Term s b) -&gt; Term s b
pmatch' :: forall (s :: S) (b :: PType).
Term s (PInner PYieldingRedeemer)
-&gt; (PYieldingRedeemer s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">PlutusType</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679211076"><span id="local-6989586621679211082"><span class="annot"><span class="annottext">(forall (s :: S).
 Term s (PAsData PYieldingRedeemer) -&gt; Term s PYieldingRedeemer)
-&gt; (forall (s :: S). Term s PYieldingRedeemer -&gt; Term s PData)
-&gt; PIsData PYieldingRedeemer
forall (s :: S).
Term s (PAsData PYieldingRedeemer) -&gt; Term s PYieldingRedeemer
forall (s :: S). Term s PYieldingRedeemer -&gt; Term s PData
forall (a :: PType).
(forall (s :: S). Term s (PAsData a) -&gt; Term s a)
-&gt; (forall (s :: S). Term s a -&gt; Term s PData) -&gt; PIsData a
$cpfromDataImpl :: forall (s :: S).
Term s (PAsData PYieldingRedeemer) -&gt; Term s PYieldingRedeemer
pfromDataImpl :: forall (s :: S).
Term s (PAsData PYieldingRedeemer) -&gt; Term s PYieldingRedeemer
$cpdataImpl :: forall (s :: S). Term s PYieldingRedeemer -&gt; Term s PData
pdataImpl :: forall (s :: S). Term s PYieldingRedeemer -&gt; Term s PData
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">PIsData</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679211088"><span class="annot"><span class="annottext">(forall (s :: S).
 Term s PYieldingRedeemer
 -&gt; Term s (PDataRecord (PFields PYieldingRedeemer)))
-&gt; PDataFields PYieldingRedeemer
forall (s :: S).
Term s PYieldingRedeemer
-&gt; Term s (PDataRecord (PFields PYieldingRedeemer))
forall (a :: PType).
(forall (s :: S). Term s a -&gt; Term s (PDataRecord (PFields a)))
-&gt; PDataFields a
$cptoFields :: forall (s :: S).
Term s PYieldingRedeemer
-&gt; Term s (PDataRecord (PFields PYieldingRedeemer))
ptoFields :: forall (s :: S).
Term s PYieldingRedeemer
-&gt; Term s (PDataRecord (PFields PYieldingRedeemer))
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">PDataFields</span></span></span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">DerivePlutusType</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PYieldingRedeemer"><span class="hs-identifier hs-type">PYieldingRedeemer</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-129"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="DPTStrat"><span class="annot"><span class="hs-identifier hs-var">DPTStrat</span></span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusTypeData</span></span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679211126"><span class="annot"><span class="hs-identifier hs-type">PTryFrom</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PYieldingRedeemer"><span class="hs-identifier hs-type">PYieldingRedeemer</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PUnsafeLiftDecl</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PYieldingRedeemer"><span class="hs-identifier hs-type">PYieldingRedeemer</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-134"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="PLifted"><span class="annot"><span class="hs-identifier hs-var">PLifted</span></span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PYieldingRedeemer"><span class="hs-identifier hs-type">PYieldingRedeemer</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">YieldingRedeemer</span></span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span id="local-6989586621679211175"><span id="local-6989586621679211185"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span>
</span><span id="line-137"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DerivePConstantViaData</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">YieldingRedeemer</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PYieldingRedeemer"><span class="hs-identifier hs-type">PYieldingRedeemer</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-138"></span><span>  </span><span class="hs-keyword">instance</span><span>
</span><span id="line-139"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PConstantDecl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">YieldingRedeemer</span></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span class="annot"><span class="hs-comment">{- | Given a list of reference inputs and a Yielding Redeemer, dig out the authorised script hash
 by:

- Indexing the reference inputs according to the redeemer
- Checking the fetched reference input for the correct AuthorisedScriptsSTCS
- Returning the AuthorisedScriptHash
-}</span></span><span>
</span><span id="line-148"></span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#getAuthorisedScriptHash"><span class="hs-identifier hs-type">getAuthorisedScriptHash</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-149"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679210551"><span class="annot"><a href="#local-6989586621679210551"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-150"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-151"></span><span>    </span><span class="annot"><a href="#local-6989586621679210551"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-152"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PCurrencySymbol</span></span><span>
</span><span id="line-153"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PTxInInfo</span></span><span>
</span><span id="line-154"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PYieldingRedeemer"><span class="hs-identifier hs-type">PYieldingRedeemer</span></a></span><span>
</span><span id="line-155"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PScriptHash</span></span><span>
</span><span id="line-156"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-157"></span><span id="getAuthorisedScriptHash"><span class="annot"><span class="annottext">getAuthorisedScriptHash :: forall (s :: S).
Term
  s
  (PCurrencySymbol
   :--&gt; (PBuiltinList PTxInInfo
         :--&gt; (PYieldingRedeemer :--&gt; PScriptHash)))
</span><a href="Cardano.YTxP.Control.Yielding.html#getAuthorisedScriptHash"><span class="hs-identifier hs-var hs-var">getAuthorisedScriptHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (s :: S).
 Term
   s
   (PCurrencySymbol
    :--&gt; (PBuiltinList PTxInInfo
          :--&gt; (PYieldingRedeemer :--&gt; PScriptHash))))
-&gt; Term
     s
     (PCurrencySymbol
      :--&gt; (PBuiltinList PTxInInfo
            :--&gt; (PYieldingRedeemer :--&gt; PScriptHash)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">((forall (s :: S).
  Term
    s
    (PCurrencySymbol
     :--&gt; (PBuiltinList PTxInInfo
           :--&gt; (PYieldingRedeemer :--&gt; PScriptHash))))
 -&gt; Term
      s
      (PCurrencySymbol
       :--&gt; (PBuiltinList PTxInInfo
             :--&gt; (PYieldingRedeemer :--&gt; PScriptHash))))
-&gt; (forall (s :: S).
    Term
      s
      (PCurrencySymbol
       :--&gt; (PBuiltinList PTxInInfo
             :--&gt; (PYieldingRedeemer :--&gt; PScriptHash))))
-&gt; Term
     s
     (PCurrencySymbol
      :--&gt; (PBuiltinList PTxInInfo
            :--&gt; (PYieldingRedeemer :--&gt; PScriptHash)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-158"></span><span>  </span><span class="annot"><span class="annottext">(Term s PCurrencySymbol
 -&gt; Term s (PBuiltinList PTxInInfo)
 -&gt; Term s PYieldingRedeemer
 -&gt; Term s PScriptHash)
-&gt; Term
     s
     (PCurrencySymbol
      :--&gt; (PBuiltinList PTxInInfo
            :--&gt; (PYieldingRedeemer :--&gt; PScriptHash)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinList PTxInInfo)
 -&gt; Term s PYieldingRedeemer
 -&gt; Term s PScriptHash)
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinList PTxInInfo
            :--&gt; (PYieldingRedeemer :--&gt; PScriptHash)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s PCurrencySymbol
  -&gt; Term s (PBuiltinList PTxInInfo)
  -&gt; Term s PYieldingRedeemer
  -&gt; Term s PScriptHash)
 -&gt; Term
      s
      (PCurrencySymbol
       :--&gt; (PBuiltinList PTxInInfo
             :--&gt; (PYieldingRedeemer :--&gt; PScriptHash))))
-&gt; (Term s PCurrencySymbol
    -&gt; Term s (PBuiltinList PTxInInfo)
    -&gt; Term s PYieldingRedeemer
    -&gt; Term s PScriptHash)
-&gt; Term
     s
     (PCurrencySymbol
      :--&gt; (PBuiltinList PTxInInfo
            :--&gt; (PYieldingRedeemer :--&gt; PScriptHash)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-159"></span><span>    </span><span class="hs-glyph">\</span><span id="local-6989586621679211299"><span class="annot"><span class="annottext">Term s PCurrencySymbol
</span><a href="#local-6989586621679211299"><span class="hs-identifier hs-var">psymbol</span></a></span></span><span> </span><span id="local-6989586621679211300"><span class="annot"><span class="annottext">Term s (PBuiltinList PTxInInfo)
</span><a href="#local-6989586621679211300"><span class="hs-identifier hs-var">txInfoRefInputs</span></a></span></span><span> </span><span id="local-6989586621679211301"><span class="annot"><span class="annottext">Term s PYieldingRedeemer
</span><a href="#local-6989586621679211301"><span class="hs-identifier hs-var">redeemer</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermCont @PScriptHash s (Term s PScriptHash) -&gt; Term s PScriptHash
forall (a :: PType) (s :: S). TermCont @a s (Term s a) -&gt; Term s a
</span><span class="hs-identifier hs-var">unTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont @PScriptHash s (Term s PScriptHash)
 -&gt; Term s PScriptHash)
-&gt; TermCont @PScriptHash s (Term s PScriptHash)
-&gt; Term s PScriptHash
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-160"></span><span>      </span><span class="hs-comment">-- TODO (OPTIMIZE): these values only get used once, can be a `let`</span><span>
</span><span id="line-161"></span><span>      </span><span id="local-6989586621679211303"><span class="annot"><span class="annottext">HRec
  (BoundTerms
     (PFields PYieldingRedeemer)
     (Bindings
        (PFields PYieldingRedeemer)
        ((':) @Symbol &quot;authorisedScriptIndex&quot; ('[] @Symbol)))
     s)
</span><a href="#local-6989586621679211303"><span class="hs-identifier hs-var">yieldingRedeemer</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-162"></span><span>        </span><span class="annot"><span class="annottext">forall (fs :: [Symbol]) (a :: PType) (s :: S) (b :: PType)
       (ps :: [PLabeledType]) (bs :: [ToBind]).
(PDataFields a,
 (ps :: [PLabeledType]) ~ (PFields a :: [PLabeledType]),
 (bs :: [ToBind]) ~ (Bindings ps fs :: [ToBind]),
 BindFields ps bs) =&gt;
Term s a -&gt; TermCont @b s (HRec (BoundTerms ps bs s))
</span><span class="hs-identifier hs-var">pletFieldsC</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;authorisedScriptIndex&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Term s PYieldingRedeemer
</span><a href="#local-6989586621679211301"><span class="hs-identifier hs-var">redeemer</span></a></span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679211305"><span class="annot"><span class="annottext">autorisedScriptRefUTxO :: Term s PTxInInfo
</span><a href="#local-6989586621679211305"><span class="hs-identifier hs-var hs-var">autorisedScriptRefUTxO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-165"></span><span>            </span><span class="annot"><span class="annottext">Term s (PBuiltinList PTxInInfo)
</span><a href="#local-6989586621679211300"><span class="hs-identifier hs-var">txInfoRefInputs</span></a></span><span class="hs-cpp">
              #!! pto (pfromData $ getField @&quot;authorisedScriptIndex&quot; yieldingRedeemer)
</span><span>          </span><span id="local-6989586621679211309"><span class="annot"><span class="annottext">output :: Term s (PAsData PTxOut)
</span><a href="#local-6989586621679211309"><span class="hs-identifier hs-var hs-var">output</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (name :: Symbol) (b :: PType) (p :: PType) (s :: S)
       (a :: PType) (as :: [PLabeledType]) (n :: Nat).
(PDataFields p,
 (as :: [PLabeledType]) ~ (PFields p :: [PLabeledType]),
 (n :: Nat) ~ (PLabelIndex name as :: Nat), KnownNat n,
 (a :: PType) ~ (PUnLabel (IndexList @PLabeledType n as) :: PType),
 PFromDataable a b) =&gt;
Term s (p :--&gt; b)
</span><span class="hs-identifier hs-var">pfield</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-string">&quot;resolved&quot;</span></span><span> </span><span class="annot"><span class="annottext">Term s (PTxInInfo :--&gt; PAsData PTxOut)
-&gt; Term s PTxInInfo -&gt; Term s (PAsData PTxOut)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s PTxInInfo
</span><a href="#local-6989586621679211305"><span class="hs-identifier hs-var">autorisedScriptRefUTxO</span></a></span><span>
</span><span id="line-168"></span><span>          </span><span id="local-6989586621679211312"><span class="annot"><span class="annottext">value :: Term s (PAsData (PValue 'Sorted 'Positive))
</span><a href="#local-6989586621679211312"><span class="hs-identifier hs-var hs-var">value</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (name :: Symbol) (b :: PType) (p :: PType) (s :: S)
       (a :: PType) (as :: [PLabeledType]) (n :: Nat).
(PDataFields p,
 (as :: [PLabeledType]) ~ (PFields p :: [PLabeledType]),
 (n :: Nat) ~ (PLabelIndex name as :: Nat), KnownNat n,
 (a :: PType) ~ (PUnLabel (IndexList @PLabeledType n as) :: PType),
 PFromDataable a b) =&gt;
Term s (p :--&gt; b)
</span><span class="hs-identifier hs-var">pfield</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-string">&quot;value&quot;</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData PTxOut :--&gt; PAsData (PValue 'Sorted 'Positive))
-&gt; Term s (PAsData PTxOut)
-&gt; Term s (PAsData (PValue 'Sorted 'Positive))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData PTxOut)
</span><a href="#local-6989586621679211309"><span class="hs-identifier hs-var">output</span></a></span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span>      </span><span class="annot"><span class="annottext">Term s PScriptHash -&gt; TermCont @PScriptHash s (Term s PScriptHash)
forall a. a -&gt; TermCont @PScriptHash s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s PScriptHash
 -&gt; TermCont @PScriptHash s (Term s PScriptHash))
-&gt; Term s PScriptHash
-&gt; TermCont @PScriptHash s (Term s PScriptHash)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-171"></span><span>        </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s PScriptHash -&gt; Term s PScriptHash -&gt; Term s PScriptHash
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-172"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PCurrencySymbol
   :--&gt; (PMap
           'Sorted PCurrencySymbol (PMap 'Sorted PTokenName PInteger)
         :--&gt; PBool))
forall (k :: PType) (s :: S) (any :: KeyGuarantees) (v :: PType).
PIsData k =&gt;
Term s (k :--&gt; (PMap any k v :--&gt; PBool))
</span><a href="Utils.html#pmember"><span class="hs-identifier hs-var">pmember</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PCurrencySymbol
   :--&gt; (PMap
           'Sorted PCurrencySymbol (PMap 'Sorted PTokenName PInteger)
         :--&gt; PBool))
-&gt; Term s PCurrencySymbol
-&gt; Term
     s
     (PMap 'Sorted PCurrencySymbol (PMap 'Sorted PTokenName PInteger)
      :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s PCurrencySymbol
</span><a href="#local-6989586621679211299"><span class="hs-identifier hs-var">psymbol</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMap 'Sorted PCurrencySymbol (PMap 'Sorted PTokenName PInteger)
   :--&gt; PBool)
-&gt; Term
     s (PMap 'Sorted PCurrencySymbol (PMap 'Sorted PTokenName PInteger))
-&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PValue 'Sorted 'Positive)
-&gt; Term s (PInner (PValue 'Sorted 'Positive))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData (PValue 'Sorted 'Positive))
-&gt; Term s (PValue 'Sorted 'Positive)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData (PValue 'Sorted 'Positive))
</span><a href="#local-6989586621679211312"><span class="hs-identifier hs-var">value</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- TODO (OPTIMIZE): make partial (`has`/`lacks`) variants and use those instead</span><span>
</span><span id="line-173"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s (PMaybeData PScriptHash)
-&gt; (PMaybeData PScriptHash s -&gt; Term s PScriptHash)
-&gt; Term s PScriptHash
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (name :: Symbol) (b :: PType) (p :: PType) (s :: S)
       (a :: PType) (as :: [PLabeledType]) (n :: Nat).
(PDataFields p,
 (as :: [PLabeledType]) ~ (PFields p :: [PLabeledType]),
 (n :: Nat) ~ (PLabelIndex name as :: Nat), KnownNat n,
 (a :: PType) ~ (PUnLabel (IndexList @PLabeledType n as) :: PType),
 PFromDataable a b) =&gt;
Term s (p :--&gt; b)
</span><span class="hs-identifier hs-var">pfield</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-string">&quot;referenceScript&quot;</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData PTxOut :--&gt; PMaybeData PScriptHash)
-&gt; Term s (PAsData PTxOut) -&gt; Term s (PMaybeData PScriptHash)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData PTxOut)
</span><a href="#local-6989586621679211309"><span class="hs-identifier hs-var">output</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybeData PScriptHash s -&gt; Term s PScriptHash)
 -&gt; Term s PScriptHash)
-&gt; (PMaybeData PScriptHash s -&gt; Term s PScriptHash)
-&gt; Term s PScriptHash
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.5/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-174"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">PDJust</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (name :: Symbol) (b :: PType) (p :: PType) (s :: S)
       (a :: PType) (as :: [PLabeledType]) (n :: Nat).
(PDataFields p,
 (as :: [PLabeledType]) ~ (PFields p :: [PLabeledType]),
 (n :: Nat) ~ (PLabelIndex name as :: Nat), KnownNat n,
 (a :: PType) ~ (PUnLabel (IndexList @PLabeledType n as) :: PType),
 PFromDataable a b) =&gt;
Term s (p :--&gt; b)
</span><span class="hs-identifier hs-var">pfield</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-string">&quot;_0&quot;</span></span><span> </span><span class="hs-operator">#</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span id="local-6989586621679211315"><span class="annot"><span class="annottext">Term s PScriptHash
</span><a href="#local-6989586621679211315"><span class="hs-identifier hs-var">autorisedScript</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s PScriptHash
</span><a href="#local-6989586621679211315"><span class="hs-identifier hs-var">autorisedScript</span></a></span><span>
</span><span id="line-175"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">PDNothing</span></span><span> </span><span class="annot"><span class="annottext">Term s (PDataRecord ('[] @PLabeledType))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s PString -&gt; Term s PScriptHash
forall (a :: PType) (s :: S). Term s PString -&gt; Term s a
</span><span class="hs-identifier hs-var">ptraceInfoError</span></span><span> </span><span class="annot"><span class="annottext">Term s PString
</span><span class="hs-string">&quot;getAuthorisedScriptHash: Reference input does not contain reference script&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s PString -&gt; Term s PScriptHash
forall (a :: PType) (s :: S). Term s PString -&gt; Term s a
</span><span class="hs-identifier hs-var">ptraceInfoError</span></span><span> </span><span class="annot"><span class="annottext">Term s PString
</span><span class="hs-string">&quot;getAuthorisedScriptHash: Reference input does not contain AuthorisedScriptsSTCS&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-178"></span></pre></body></html>