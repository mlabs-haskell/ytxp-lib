<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="annot"><span class="hs-comment">{- | Module: Cardano.YTxP.Control.Yielding
Description: This module provides functionality for managing yielding transactions
in the Yielding Transaction Protocol (YTxP). It includes types and functions for
working with authorised scripts, yielding redeemers, and retrieving script hashes.

The module defines the following key components:

- 'PAuthorisedScriptPurpose': An enumeration representing the purpose of an
  authorised script, which can be minting, spending, or rewarding.

- 'PYieldingRedeemer': A data type representing the redeemer for yielding
  transactions. It includes an index for the authorised script and a proof index.

- 'getAuthorisedScriptHash': A function that retrieves the hash of an authorised
  script based on the provided currency symbol, transaction reference inputs,
  and yielding redeemer.

This module is part of the YTxP SDK and is designed to be used in conjunction
with other modules in the SDK to facilitate the creation and validation of
yielding transactions.
-}</span></span><span>
</span><span id="line-22"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cardano.YTxP.Control.Yielding</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-23"></span><span>  </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#getAuthorisedScriptHash"><span class="hs-identifier">getAuthorisedScriptHash</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>  </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptPurpose"><span class="hs-identifier">PAuthorisedScriptPurpose</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PMinting"><span class="hs-identifier">PMinting</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PSpending"><span class="hs-identifier">PSpending</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PRewarding"><span class="hs-identifier">PRewarding</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>  </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PYieldingRedeemer"><span class="hs-identifier">PYieldingRedeemer</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">where</span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.YTxP.SDK.Redeemers</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-30"></span><span>  </span><span class="annot"><span class="hs-identifier">AuthorisedScriptIndex</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">AuthorisedScriptIndex</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>  </span><span class="annot"><span class="hs-identifier">AuthorisedScriptProofIndex</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">AuthorisedScriptProofIndex</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>  </span><span class="annot"><span class="hs-identifier">AuthorisedScriptPurpose</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Minting</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Rewarding</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Spending</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>  </span><span class="annot"><span class="hs-identifier">YieldingRedeemer</span></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Coerce.html"><span class="hs-identifier">Data.Coerce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Prim.html#coerce"><span class="hs-identifier">coerce</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Generics.html"><span class="hs-identifier">GHC.Generics</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Generics.html#Generic"><span class="hs-identifier">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Generics.SOP</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SOP</span></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.Internal.Lift</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">LiftError</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">OtherLiftError</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.LedgerApi.Utils</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">PMaybeData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">PDJust</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">PDNothing</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.LedgerApi.V3</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-41"></span><span>  </span><span class="annot"><span class="hs-identifier">PCurrencySymbol</span></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>  </span><span class="annot"><span class="hs-identifier">PScriptHash</span></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>  </span><span class="annot"><span class="hs-identifier">PTxInInfo</span></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>  </span><span class="annot"><span class="hs-identifier">PTxOut</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ptxOut'value</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>  </span><span class="annot"><span class="hs-identifier">ptxInInfo'resolved</span></span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>  </span><span class="annot"><span class="hs-identifier">ptxOut'referenceScript</span></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.Repr.Tag</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">DeriveAsTag</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">DeriveAsTag</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Utils.html"><span class="hs-identifier">Utils</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Utils.html#pmember"><span class="hs-identifier">pmember</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span class="annot"><span class="hs-comment">-- | A newtype wrapper for 'AuthorisedScriptIndex'.</span></span><span>
</span><span id="line-52"></span><span class="hs-keyword">newtype</span><span> </span><span id="PAuthorisedScriptIndex"><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptIndex"><span class="hs-identifier hs-var">PAuthorisedScriptIndex</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679225214"><span class="annot"><a href="#local-6989586621679225214"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PAuthorisedScriptIndex"><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptIndex"><span class="hs-identifier hs-var">PAuthorisedScriptIndex</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679225214"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PInteger</span></span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679225217"><span id="local-6989586621679225219"><span class="annot"><span class="annottext">(forall x.
 PAuthorisedScriptIndex s -&gt; Rep (PAuthorisedScriptIndex s) x)
-&gt; (forall x.
    Rep (PAuthorisedScriptIndex s) x -&gt; PAuthorisedScriptIndex s)
-&gt; Generic (PAuthorisedScriptIndex s)
forall x.
Rep (PAuthorisedScriptIndex s) x -&gt; PAuthorisedScriptIndex s
forall x.
PAuthorisedScriptIndex s -&gt; Rep (PAuthorisedScriptIndex s) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (s :: S) x.
Rep (PAuthorisedScriptIndex s) x -&gt; PAuthorisedScriptIndex s
forall (s :: S) x.
PAuthorisedScriptIndex s -&gt; Rep (PAuthorisedScriptIndex s) x
$cfrom :: forall (s :: S) x.
PAuthorisedScriptIndex s -&gt; Rep (PAuthorisedScriptIndex s) x
from :: forall x.
PAuthorisedScriptIndex s -&gt; Rep (PAuthorisedScriptIndex s) x
$cto :: forall (s :: S) x.
Rep (PAuthorisedScriptIndex s) x -&gt; PAuthorisedScriptIndex s
to :: forall x.
Rep (PAuthorisedScriptIndex s) x -&gt; PAuthorisedScriptIndex s
</span><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679225226"><span id="local-6989586621679225235"><span class="annot"><span class="annottext">All @[Type] (SListI @Type) (Code (PAuthorisedScriptIndex s))
All @[Type] (SListI @Type) (Code (PAuthorisedScriptIndex s)) =&gt;
(PAuthorisedScriptIndex s -&gt; Rep (PAuthorisedScriptIndex s))
-&gt; (Rep (PAuthorisedScriptIndex s) -&gt; PAuthorisedScriptIndex s)
-&gt; Generic (PAuthorisedScriptIndex s)
Rep (PAuthorisedScriptIndex s) -&gt; PAuthorisedScriptIndex s
PAuthorisedScriptIndex s -&gt; Rep (PAuthorisedScriptIndex s)
forall a.
All @[Type] (SListI @Type) (Code a) =&gt;
(a -&gt; Rep a) -&gt; (Rep a -&gt; a) -&gt; Generic a
forall (s :: S).
All @[Type] (SListI @Type) (Code (PAuthorisedScriptIndex s))
forall (s :: S).
Rep (PAuthorisedScriptIndex s) -&gt; PAuthorisedScriptIndex s
forall (s :: S).
PAuthorisedScriptIndex s -&gt; Rep (PAuthorisedScriptIndex s)
$cfrom :: forall (s :: S).
PAuthorisedScriptIndex s -&gt; Rep (PAuthorisedScriptIndex s)
from :: PAuthorisedScriptIndex s -&gt; Rep (PAuthorisedScriptIndex s)
$cto :: forall (s :: S).
Rep (PAuthorisedScriptIndex s) -&gt; PAuthorisedScriptIndex s
to :: Rep (PAuthorisedScriptIndex s) -&gt; PAuthorisedScriptIndex s
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var">SOP.Generic</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679225265"><span id="local-6989586621679225271"><span class="annot"><span class="annottext">(forall (s :: S).
 Term s (PAsData PAuthorisedScriptIndex)
 -&gt; Term s PAuthorisedScriptIndex)
-&gt; (forall (s :: S). Term s PAuthorisedScriptIndex -&gt; Term s PData)
-&gt; PIsData PAuthorisedScriptIndex
forall (s :: S).
Term s (PAsData PAuthorisedScriptIndex)
-&gt; Term s PAuthorisedScriptIndex
forall (s :: S). Term s PAuthorisedScriptIndex -&gt; Term s PData
forall (a :: S -&gt; Type).
(forall (s :: S). Term s (PAsData a) -&gt; Term s a)
-&gt; (forall (s :: S). Term s a -&gt; Term s PData) -&gt; PIsData a
$cpfromDataImpl :: forall (s :: S).
Term s (PAsData PAuthorisedScriptIndex)
-&gt; Term s PAuthorisedScriptIndex
pfromDataImpl :: forall (s :: S).
Term s (PAsData PAuthorisedScriptIndex)
-&gt; Term s PAuthorisedScriptIndex
$cpdataImpl :: forall (s :: S). Term s PAuthorisedScriptIndex -&gt; Term s PData
pdataImpl :: forall (s :: S). Term s PAuthorisedScriptIndex -&gt; Term s PData
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">PIsData</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679225278"><span id="local-6989586621679225286"><span class="annot"><span class="annottext">(forall (s :: S).
 PAuthorisedScriptIndex s -&gt; Term s (PInner PAuthorisedScriptIndex))
-&gt; (forall (s :: S) (b :: S -&gt; Type).
    Term s (PInner PAuthorisedScriptIndex)
    -&gt; (PAuthorisedScriptIndex s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType PAuthorisedScriptIndex
forall (s :: S).
PAuthorisedScriptIndex s -&gt; Term s (PInner PAuthorisedScriptIndex)
forall (s :: S) (b :: S -&gt; Type).
Term s (PInner PAuthorisedScriptIndex)
-&gt; (PAuthorisedScriptIndex s -&gt; Term s b) -&gt; Term s b
forall (a :: S -&gt; Type).
(forall (s :: S). a s -&gt; Term s (PInner a))
-&gt; (forall (s :: S) (b :: S -&gt; Type).
    Term s (PInner a) -&gt; (a s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType a
$cpcon' :: forall (s :: S).
PAuthorisedScriptIndex s -&gt; Term s (PInner PAuthorisedScriptIndex)
pcon' :: forall (s :: S).
PAuthorisedScriptIndex s -&gt; Term s (PInner PAuthorisedScriptIndex)
$cpmatch' :: forall (s :: S) (b :: S -&gt; Type).
Term s (PInner PAuthorisedScriptIndex)
-&gt; (PAuthorisedScriptIndex s -&gt; Term s b) -&gt; Term s b
pmatch' :: forall (s :: S) (b :: S -&gt; Type).
Term s (PInner PAuthorisedScriptIndex)
-&gt; (PAuthorisedScriptIndex s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">PlutusType</span></span></span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DeriveNewtypePlutusType</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptIndex"><span class="hs-identifier hs-type">PAuthorisedScriptIndex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-keyword">deriving</span><span>
</span><span id="line-57"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679225299"><span id="local-6989586621679225308"><span id="local-6989586621679225316"><span id="local-6989586621679225324"><span class="annot"><span class="annottext">PlutusType PAuthorisedScriptIndex
AsHaskell PAuthorisedScriptIndex
-&gt; PlutusRepr PAuthorisedScriptIndex
PlutusRepr PAuthorisedScriptIndex
-&gt; Either LiftError (AsHaskell PAuthorisedScriptIndex)
PlutusType PAuthorisedScriptIndex =&gt;
(AsHaskell PAuthorisedScriptIndex
 -&gt; PlutusRepr PAuthorisedScriptIndex)
-&gt; (PlutusRepr PAuthorisedScriptIndex
    -&gt; Either LiftError (AsHaskell PAuthorisedScriptIndex))
-&gt; (forall (s :: S).
    PlutusRepr PAuthorisedScriptIndex
    -&gt; PLifted s PAuthorisedScriptIndex)
-&gt; ((forall (s :: S). PLifted s PAuthorisedScriptIndex)
    -&gt; Either LiftError (PlutusRepr PAuthorisedScriptIndex))
-&gt; PLiftable PAuthorisedScriptIndex
(forall (s :: S). PLifted s PAuthorisedScriptIndex)
-&gt; Either LiftError (PlutusRepr PAuthorisedScriptIndex)
forall (s :: S).
PlutusRepr PAuthorisedScriptIndex
-&gt; PLifted s PAuthorisedScriptIndex
forall (a :: S -&gt; Type).
PlutusType a =&gt;
(AsHaskell a -&gt; PlutusRepr a)
-&gt; (PlutusRepr a -&gt; Either LiftError (AsHaskell a))
-&gt; (forall (s :: S). PlutusRepr a -&gt; PLifted s a)
-&gt; ((forall (s :: S). PLifted s a)
    -&gt; Either LiftError (PlutusRepr a))
-&gt; PLiftable a
$chaskToRepr :: AsHaskell PAuthorisedScriptIndex
-&gt; PlutusRepr PAuthorisedScriptIndex
haskToRepr :: AsHaskell PAuthorisedScriptIndex
-&gt; PlutusRepr PAuthorisedScriptIndex
$creprToHask :: PlutusRepr PAuthorisedScriptIndex
-&gt; Either LiftError (AsHaskell PAuthorisedScriptIndex)
reprToHask :: PlutusRepr PAuthorisedScriptIndex
-&gt; Either LiftError (AsHaskell PAuthorisedScriptIndex)
$creprToPlut :: forall (s :: S).
PlutusRepr PAuthorisedScriptIndex
-&gt; PLifted s PAuthorisedScriptIndex
reprToPlut :: forall (s :: S).
PlutusRepr PAuthorisedScriptIndex
-&gt; PLifted s PAuthorisedScriptIndex
$cplutToRepr :: (forall (s :: S). PLifted s PAuthorisedScriptIndex)
-&gt; Either LiftError (PlutusRepr PAuthorisedScriptIndex)
plutToRepr :: (forall (s :: S). PLifted s PAuthorisedScriptIndex)
-&gt; Either LiftError (PlutusRepr PAuthorisedScriptIndex)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">PLiftable</span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span>    </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DeriveNewtypePLiftable</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptIndex"><span class="hs-identifier hs-type">PAuthorisedScriptIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">AuthorisedScriptIndex</span></span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679225356"><span class="annot"><span class="hs-identifier hs-type">PTryFrom</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptIndex"><span class="hs-identifier hs-type">PAuthorisedScriptIndex</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span class="annot"><span class="hs-comment">-- | A data type representing the purpose of an authorised script.</span></span><span>
</span><span id="line-63"></span><span class="hs-keyword">data</span><span> </span><span id="PAuthorisedScriptPurpose"><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptPurpose"><span class="hs-identifier hs-var">PAuthorisedScriptPurpose</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679224885"><span class="annot"><a href="#local-6989586621679224885"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PMinting"><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PMinting"><span class="hs-identifier hs-var">PMinting</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="PSpending"><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PSpending"><span class="hs-identifier hs-var">PSpending</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="PRewarding"><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PRewarding"><span class="hs-identifier hs-var">PRewarding</span></a></span></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679225368"><span id="local-6989586621679225370"><span class="annot"><span class="annottext">(forall x.
 PAuthorisedScriptPurpose s -&gt; Rep (PAuthorisedScriptPurpose s) x)
-&gt; (forall x.
    Rep (PAuthorisedScriptPurpose s) x -&gt; PAuthorisedScriptPurpose s)
-&gt; Generic (PAuthorisedScriptPurpose s)
forall x.
Rep (PAuthorisedScriptPurpose s) x -&gt; PAuthorisedScriptPurpose s
forall x.
PAuthorisedScriptPurpose s -&gt; Rep (PAuthorisedScriptPurpose s) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (s :: S) x.
Rep (PAuthorisedScriptPurpose s) x -&gt; PAuthorisedScriptPurpose s
forall (s :: S) x.
PAuthorisedScriptPurpose s -&gt; Rep (PAuthorisedScriptPurpose s) x
$cfrom :: forall (s :: S) x.
PAuthorisedScriptPurpose s -&gt; Rep (PAuthorisedScriptPurpose s) x
from :: forall x.
PAuthorisedScriptPurpose s -&gt; Rep (PAuthorisedScriptPurpose s) x
$cto :: forall (s :: S) x.
Rep (PAuthorisedScriptPurpose s) x -&gt; PAuthorisedScriptPurpose s
to :: forall x.
Rep (PAuthorisedScriptPurpose s) x -&gt; PAuthorisedScriptPurpose s
</span><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679225373"><span id="local-6989586621679225381"><span id="local-6989586621679225387"><span id="local-6989586621679225401"><span id="local-6989586621679225403"><span id="local-6989586621679225407"><span id="local-6989586621679225411"><span id="local-6989586621679225415"><span class="annot"><span class="annottext">Int -&gt; PAuthorisedScriptPurpose s
PAuthorisedScriptPurpose s -&gt; Int
PAuthorisedScriptPurpose s -&gt; [PAuthorisedScriptPurpose s]
PAuthorisedScriptPurpose s -&gt; PAuthorisedScriptPurpose s
PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s -&gt; [PAuthorisedScriptPurpose s]
PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s
-&gt; [PAuthorisedScriptPurpose s]
(PAuthorisedScriptPurpose s -&gt; PAuthorisedScriptPurpose s)
-&gt; (PAuthorisedScriptPurpose s -&gt; PAuthorisedScriptPurpose s)
-&gt; (Int -&gt; PAuthorisedScriptPurpose s)
-&gt; (PAuthorisedScriptPurpose s -&gt; Int)
-&gt; (PAuthorisedScriptPurpose s -&gt; [PAuthorisedScriptPurpose s])
-&gt; (PAuthorisedScriptPurpose s
    -&gt; PAuthorisedScriptPurpose s -&gt; [PAuthorisedScriptPurpose s])
-&gt; (PAuthorisedScriptPurpose s
    -&gt; PAuthorisedScriptPurpose s -&gt; [PAuthorisedScriptPurpose s])
-&gt; (PAuthorisedScriptPurpose s
    -&gt; PAuthorisedScriptPurpose s
    -&gt; PAuthorisedScriptPurpose s
    -&gt; [PAuthorisedScriptPurpose s])
-&gt; Enum (PAuthorisedScriptPurpose s)
forall a.
(a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; a -&gt; [a])
-&gt; Enum a
forall (s :: S). Int -&gt; PAuthorisedScriptPurpose s
forall (s :: S). PAuthorisedScriptPurpose s -&gt; Int
forall (s :: S).
PAuthorisedScriptPurpose s -&gt; [PAuthorisedScriptPurpose s]
forall (s :: S).
PAuthorisedScriptPurpose s -&gt; PAuthorisedScriptPurpose s
forall (s :: S).
PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s -&gt; [PAuthorisedScriptPurpose s]
forall (s :: S).
PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s
-&gt; [PAuthorisedScriptPurpose s]
$csucc :: forall (s :: S).
PAuthorisedScriptPurpose s -&gt; PAuthorisedScriptPurpose s
succ :: PAuthorisedScriptPurpose s -&gt; PAuthorisedScriptPurpose s
$cpred :: forall (s :: S).
PAuthorisedScriptPurpose s -&gt; PAuthorisedScriptPurpose s
pred :: PAuthorisedScriptPurpose s -&gt; PAuthorisedScriptPurpose s
$ctoEnum :: forall (s :: S). Int -&gt; PAuthorisedScriptPurpose s
toEnum :: Int -&gt; PAuthorisedScriptPurpose s
$cfromEnum :: forall (s :: S). PAuthorisedScriptPurpose s -&gt; Int
fromEnum :: PAuthorisedScriptPurpose s -&gt; Int
$cenumFrom :: forall (s :: S).
PAuthorisedScriptPurpose s -&gt; [PAuthorisedScriptPurpose s]
enumFrom :: PAuthorisedScriptPurpose s -&gt; [PAuthorisedScriptPurpose s]
$cenumFromThen :: forall (s :: S).
PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s -&gt; [PAuthorisedScriptPurpose s]
enumFromThen :: PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s -&gt; [PAuthorisedScriptPurpose s]
$cenumFromTo :: forall (s :: S).
PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s -&gt; [PAuthorisedScriptPurpose s]
enumFromTo :: PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s -&gt; [PAuthorisedScriptPurpose s]
$cenumFromThenTo :: forall (s :: S).
PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s
-&gt; [PAuthorisedScriptPurpose s]
enumFromThenTo :: PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s
-&gt; [PAuthorisedScriptPurpose s]
</span><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Enum.html#Enum"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Enum</span></a></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679225419"><span id="local-6989586621679225421"><span class="annot"><span class="annottext">PAuthorisedScriptPurpose s
PAuthorisedScriptPurpose s
-&gt; PAuthorisedScriptPurpose s
-&gt; Bounded (PAuthorisedScriptPurpose s)
forall a. a -&gt; a -&gt; Bounded a
forall (s :: S). PAuthorisedScriptPurpose s
$cminBound :: forall (s :: S). PAuthorisedScriptPurpose s
minBound :: PAuthorisedScriptPurpose s
$cmaxBound :: forall (s :: S). PAuthorisedScriptPurpose s
maxBound :: PAuthorisedScriptPurpose s
</span><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Enum.html#Bounded"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Bounded</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679225428"><span id="local-6989586621679225437"><span class="annot"><span class="annottext">All @[Type] (SListI @Type) (Code (PAuthorisedScriptPurpose s))
All @[Type] (SListI @Type) (Code (PAuthorisedScriptPurpose s)) =&gt;
(PAuthorisedScriptPurpose s -&gt; Rep (PAuthorisedScriptPurpose s))
-&gt; (Rep (PAuthorisedScriptPurpose s) -&gt; PAuthorisedScriptPurpose s)
-&gt; Generic (PAuthorisedScriptPurpose s)
Rep (PAuthorisedScriptPurpose s) -&gt; PAuthorisedScriptPurpose s
PAuthorisedScriptPurpose s -&gt; Rep (PAuthorisedScriptPurpose s)
forall a.
All @[Type] (SListI @Type) (Code a) =&gt;
(a -&gt; Rep a) -&gt; (Rep a -&gt; a) -&gt; Generic a
forall (s :: S).
All @[Type] (SListI @Type) (Code (PAuthorisedScriptPurpose s))
forall (s :: S).
Rep (PAuthorisedScriptPurpose s) -&gt; PAuthorisedScriptPurpose s
forall (s :: S).
PAuthorisedScriptPurpose s -&gt; Rep (PAuthorisedScriptPurpose s)
$cfrom :: forall (s :: S).
PAuthorisedScriptPurpose s -&gt; Rep (PAuthorisedScriptPurpose s)
from :: PAuthorisedScriptPurpose s -&gt; Rep (PAuthorisedScriptPurpose s)
$cto :: forall (s :: S).
Rep (PAuthorisedScriptPurpose s) -&gt; PAuthorisedScriptPurpose s
to :: Rep (PAuthorisedScriptPurpose s) -&gt; PAuthorisedScriptPurpose s
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var">SOP.Generic</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679225465"><span id="local-6989586621679225471"><span class="annot"><span class="annottext">(forall (s :: S).
 Term s (PAsData PAuthorisedScriptPurpose)
 -&gt; Term s PAuthorisedScriptPurpose)
-&gt; (forall (s :: S).
    Term s PAuthorisedScriptPurpose -&gt; Term s PData)
-&gt; PIsData PAuthorisedScriptPurpose
forall (s :: S).
Term s (PAsData PAuthorisedScriptPurpose)
-&gt; Term s PAuthorisedScriptPurpose
forall (s :: S). Term s PAuthorisedScriptPurpose -&gt; Term s PData
forall (a :: S -&gt; Type).
(forall (s :: S). Term s (PAsData a) -&gt; Term s a)
-&gt; (forall (s :: S). Term s a -&gt; Term s PData) -&gt; PIsData a
$cpfromDataImpl :: forall (s :: S).
Term s (PAsData PAuthorisedScriptPurpose)
-&gt; Term s PAuthorisedScriptPurpose
pfromDataImpl :: forall (s :: S).
Term s (PAsData PAuthorisedScriptPurpose)
-&gt; Term s PAuthorisedScriptPurpose
$cpdataImpl :: forall (s :: S). Term s PAuthorisedScriptPurpose -&gt; Term s PData
pdataImpl :: forall (s :: S). Term s PAuthorisedScriptPurpose -&gt; Term s PData
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">PIsData</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679225476"><span class="annot"><span class="annottext">(forall (s :: S).
 Term s PAuthorisedScriptPurpose
 -&gt; Term s PAuthorisedScriptPurpose -&gt; Term s PBool)
-&gt; PEq PAuthorisedScriptPurpose
forall (s :: S).
Term s PAuthorisedScriptPurpose
-&gt; Term s PAuthorisedScriptPurpose -&gt; Term s PBool
forall (t :: S -&gt; Type).
(forall (s :: S). Term s t -&gt; Term s t -&gt; Term s PBool) -&gt; PEq t
$c#== :: forall (s :: S).
Term s PAuthorisedScriptPurpose
-&gt; Term s PAuthorisedScriptPurpose -&gt; Term s PBool
#== :: forall (s :: S).
Term s PAuthorisedScriptPurpose
-&gt; Term s PAuthorisedScriptPurpose -&gt; Term s PBool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">PEq</span></span></span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-keyword">deriving</span><span>
</span><span id="line-67"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679225492"><span id="local-6989586621679225499"><span class="annot"><span class="annottext">(forall (s :: S).
 PAuthorisedScriptPurpose s
 -&gt; Term s (PInner PAuthorisedScriptPurpose))
-&gt; (forall (s :: S) (b :: S -&gt; Type).
    Term s (PInner PAuthorisedScriptPurpose)
    -&gt; (PAuthorisedScriptPurpose s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType PAuthorisedScriptPurpose
forall (s :: S).
PAuthorisedScriptPurpose s
-&gt; Term s (PInner PAuthorisedScriptPurpose)
forall (s :: S) (b :: S -&gt; Type).
Term s (PInner PAuthorisedScriptPurpose)
-&gt; (PAuthorisedScriptPurpose s -&gt; Term s b) -&gt; Term s b
forall (a :: S -&gt; Type).
(forall (s :: S). a s -&gt; Term s (PInner a))
-&gt; (forall (s :: S) (b :: S -&gt; Type).
    Term s (PInner a) -&gt; (a s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType a
$cpcon' :: forall (s :: S).
PAuthorisedScriptPurpose s
-&gt; Term s (PInner PAuthorisedScriptPurpose)
pcon' :: forall (s :: S).
PAuthorisedScriptPurpose s
-&gt; Term s (PInner PAuthorisedScriptPurpose)
$cpmatch' :: forall (s :: S) (b :: S -&gt; Type).
Term s (PInner PAuthorisedScriptPurpose)
-&gt; (PAuthorisedScriptPurpose s -&gt; Term s b) -&gt; Term s b
pmatch' :: forall (s :: S) (b :: S -&gt; Type).
Term s (PInner PAuthorisedScriptPurpose)
-&gt; (PAuthorisedScriptPurpose s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">PlutusType</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span>    </span><span class="hs-keyword">via</span><span> </span><span class="annot"><span class="hs-identifier hs-type">DeriveAsTag</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptPurpose"><span class="hs-identifier hs-type">PAuthorisedScriptPurpose</span></a></span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLiftable</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptPurpose"><span class="hs-identifier hs-type">PAuthorisedScriptPurpose</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-71"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="AsHaskell"><span class="annot"><span class="hs-identifier hs-var">AsHaskell</span></span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptPurpose"><span class="hs-identifier hs-type">PAuthorisedScriptPurpose</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AuthorisedScriptPurpose</span></span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="PlutusRepr"><span class="annot"><span class="hs-identifier hs-var">PlutusRepr</span></span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptPurpose"><span class="hs-identifier hs-type">PAuthorisedScriptPurpose</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../../ghc-9.6.7/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span>  </span><span id="local-6989586621679225517"><span class="annot"><span class="annottext">haskToRepr :: AsHaskell PAuthorisedScriptPurpose
-&gt; PlutusRepr PAuthorisedScriptPurpose
</span><a href="#local-6989586621679225517"><span class="hs-identifier hs-var hs-var hs-var hs-var">haskToRepr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Real.html#toInteger"><span class="hs-identifier hs-var">toInteger</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Integer)
-&gt; (AuthorisedScriptPurpose -&gt; Int)
-&gt; AuthorisedScriptPurpose
-&gt; Integer
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">SOP
  @Type
  I
  ((':)
     @[Type]
     ('[] @Type)
     ((':)
        @[Type] ('[] @Type) ((':) @[Type] ('[] @Type) ('[] @[Type]))))
-&gt; Int
forall k l (h :: (k -&gt; Type) -&gt; l -&gt; Type) (f :: k -&gt; Type)
       (xs :: l).
HIndex @k @l h =&gt;
h f xs -&gt; Int
forall (f :: Type -&gt; Type) (xs :: [[Type]]). SOP @Type f xs -&gt; Int
</span><span class="hs-identifier hs-var">SOP.hindex</span></span><span> </span><span class="annot"><span class="annottext">(SOP
   @Type
   I
   ((':)
      @[Type]
      ('[] @Type)
      ((':)
         @[Type] ('[] @Type) ((':) @[Type] ('[] @Type) ('[] @[Type]))))
 -&gt; Int)
-&gt; (AuthorisedScriptPurpose
    -&gt; SOP
         @Type
         I
         ((':)
            @[Type]
            ('[] @Type)
            ((':)
               @[Type] ('[] @Type) ((':) @[Type] ('[] @Type) ('[] @[Type])))))
-&gt; AuthorisedScriptPurpose
-&gt; Int
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AuthorisedScriptPurpose
-&gt; SOP
     @Type
     I
     ((':)
        @[Type]
        ('[] @Type)
        ((':)
           @[Type] ('[] @Type) ((':) @[Type] ('[] @Type) ('[] @[Type]))))
AuthorisedScriptPurpose -&gt; Rep AuthorisedScriptPurpose
forall a. Generic a =&gt; a -&gt; Rep a
</span><span class="hs-identifier hs-var">SOP.from</span></span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span>  </span><span id="local-6989586621679225523"><span class="annot"><span class="annottext">reprToPlut :: forall (s :: S).
PlutusRepr PAuthorisedScriptPurpose
-&gt; PLifted s PAuthorisedScriptPurpose
</span><a href="#local-6989586621679225523"><span class="hs-identifier hs-var hs-var hs-var hs-var">reprToPlut</span></a></span></span><span> </span><span id="local-6989586621679225525"><span class="annot"><span class="annottext">PlutusRepr PAuthorisedScriptPurpose
</span><a href="#local-6989586621679225525"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s POpaque -&gt; PLifted s PAuthorisedScriptPurpose
forall (s :: S) (a :: S -&gt; Type). Term s POpaque -&gt; PLifted s a
</span><span class="hs-identifier hs-var">PLifted</span></span><span> </span><span class="annot"><span class="annottext">(Term s POpaque -&gt; PLifted s PAuthorisedScriptPurpose)
-&gt; Term s POpaque -&gt; PLifted s PAuthorisedScriptPurpose
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PInteger -&gt; Term s POpaque
forall (s :: S) (a :: S -&gt; Type). Term s a -&gt; Term s POpaque
</span><span class="hs-identifier hs-var">popaque</span></span><span> </span><span class="annot"><span class="annottext">(Term s PInteger -&gt; Term s POpaque)
-&gt; Term s PInteger -&gt; Term s POpaque
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: S -&gt; Type) (s :: S).
PLiftable a =&gt;
AsHaskell a -&gt; Term s a
</span><span class="hs-identifier hs-var">pconstant</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">PInteger</span></span><span> </span><span class="annot"><span class="annottext">AsHaskell PInteger
PlutusRepr PAuthorisedScriptPurpose
</span><a href="#local-6989586621679225525"><span class="hs-identifier hs-var">idx</span></a></span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span>  </span><span id="local-6989586621679225530"><span class="annot"><span class="annottext">plutToRepr :: (forall (s :: S). PLifted s PAuthorisedScriptPurpose)
-&gt; Either LiftError (PlutusRepr PAuthorisedScriptPurpose)
</span><a href="#local-6989586621679225530"><span class="hs-identifier hs-var hs-var hs-var hs-var">plutToRepr</span></a></span></span><span> </span><span id="local-6989586621679225532"><span class="annot"><span class="annottext">forall (s :: S). PLifted s PAuthorisedScriptPurpose
</span><a href="#local-6989586621679225532"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (a :: S -&gt; Type).
PLiftable a =&gt;
(forall (s :: S). PLifted s a) -&gt; Either LiftError (PlutusRepr a)
</span><span class="hs-identifier hs-var">plutToRepr</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">PInteger</span></span><span> </span><span class="annot"><span class="annottext">((forall (s :: S). PLifted s PInteger)
 -&gt; Either LiftError (PlutusRepr PInteger))
-&gt; (forall (s :: S). PLifted s PInteger)
-&gt; Either LiftError (PlutusRepr PInteger)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PLifted s PAuthorisedScriptPurpose -&gt; PLifted s PInteger
forall a b. Coercible @Type a b =&gt; a -&gt; b
</span><a href="../../../ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Prim.html#coerce"><span class="hs-identifier hs-var">coerce</span></a></span><span> </span><span class="annot"><span class="annottext">PLifted s PAuthorisedScriptPurpose
forall (s :: S). PLifted s PAuthorisedScriptPurpose
</span><a href="#local-6989586621679225532"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span>  </span><span id="local-6989586621679225543"><span class="annot"><span class="annottext">reprToHask :: PlutusRepr PAuthorisedScriptPurpose
-&gt; Either LiftError (AsHaskell PAuthorisedScriptPurpose)
</span><a href="#local-6989586621679225543"><span class="hs-identifier hs-var hs-var hs-var hs-var">reprToHask</span></a></span></span><span> </span><span id="local-6989586621679225545"><span class="annot"><span class="annottext">PlutusRepr PAuthorisedScriptPurpose
</span><a href="#local-6989586621679225545"><span class="hs-identifier hs-var">idx</span></a></span></span><span>
</span><span id="line-81"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Integer
PlutusRepr PAuthorisedScriptPurpose
</span><a href="#local-6989586621679225545"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: S -&gt; Type). PLiftable a =&gt; AsHaskell a -&gt; PlutusRepr a
</span><span class="hs-identifier hs-var">haskToRepr</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptPurpose"><span class="hs-identifier hs-type">PAuthorisedScriptPurpose</span></a></span><span> </span><span class="annot"><span class="annottext">AsHaskell PAuthorisedScriptPurpose
AuthorisedScriptPurpose
</span><span class="hs-identifier hs-var">Minting</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AuthorisedScriptPurpose -&gt; Either LiftError AuthorisedScriptPurpose
forall a b. b -&gt; Either a b
</span><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Right"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">AuthorisedScriptPurpose
</span><span class="hs-identifier hs-var">Minting</span></span><span>
</span><span id="line-82"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Integer
PlutusRepr PAuthorisedScriptPurpose
</span><a href="#local-6989586621679225545"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: S -&gt; Type). PLiftable a =&gt; AsHaskell a -&gt; PlutusRepr a
</span><span class="hs-identifier hs-var">haskToRepr</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptPurpose"><span class="hs-identifier hs-type">PAuthorisedScriptPurpose</span></a></span><span> </span><span class="annot"><span class="annottext">AsHaskell PAuthorisedScriptPurpose
AuthorisedScriptPurpose
</span><span class="hs-identifier hs-var">Spending</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AuthorisedScriptPurpose -&gt; Either LiftError AuthorisedScriptPurpose
forall a b. b -&gt; Either a b
</span><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Right"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">AuthorisedScriptPurpose
</span><span class="hs-identifier hs-var">Spending</span></span><span>
</span><span id="line-83"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Integer
PlutusRepr PAuthorisedScriptPurpose
</span><a href="#local-6989586621679225545"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: S -&gt; Type). PLiftable a =&gt; AsHaskell a -&gt; PlutusRepr a
</span><span class="hs-identifier hs-var">haskToRepr</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptPurpose"><span class="hs-identifier hs-type">PAuthorisedScriptPurpose</span></a></span><span> </span><span class="annot"><span class="annottext">AsHaskell PAuthorisedScriptPurpose
AuthorisedScriptPurpose
</span><span class="hs-identifier hs-var">Rewarding</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AuthorisedScriptPurpose -&gt; Either LiftError AuthorisedScriptPurpose
forall a b. b -&gt; Either a b
</span><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Right"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">AuthorisedScriptPurpose
</span><span class="hs-identifier hs-var">Rewarding</span></span><span>
</span><span id="line-84"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LiftError -&gt; Either LiftError AuthorisedScriptPurpose
forall a b. a -&gt; Either a b
</span><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; LiftError
</span><span class="hs-identifier hs-var">OtherLiftError</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Invalid Index&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679225550"><span class="annot"><span class="hs-identifier hs-type">PTryFrom</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptPurpose"><span class="hs-identifier hs-type">PAuthorisedScriptPurpose</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="annot"><span class="hs-comment">-- | A newtype wrapper for 'AuthorisedScriptProofIndex'.</span></span><span>
</span><span id="line-89"></span><span class="hs-keyword">newtype</span><span> </span><span id="PAuthorisedScriptProofIndex"><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptProofIndex"><span class="hs-identifier hs-var">PAuthorisedScriptProofIndex</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679225559"><span class="annot"><a href="#local-6989586621679225559"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PAuthorisedScriptProofIndex"><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptProofIndex"><span class="hs-identifier hs-var">PAuthorisedScriptProofIndex</span></a></span></span><span>
</span><span id="line-91"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-92"></span><span>          </span><span class="annot"><a href="#local-6989586621679225559"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-93"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptPurpose"><span class="hs-identifier hs-type">PAuthorisedScriptPurpose</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PInteger</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679225562"><span id="local-6989586621679225564"><span class="annot"><span class="annottext">(forall x.
 PAuthorisedScriptProofIndex s
 -&gt; Rep (PAuthorisedScriptProofIndex s) x)
-&gt; (forall x.
    Rep (PAuthorisedScriptProofIndex s) x
    -&gt; PAuthorisedScriptProofIndex s)
-&gt; Generic (PAuthorisedScriptProofIndex s)
forall x.
Rep (PAuthorisedScriptProofIndex s) x
-&gt; PAuthorisedScriptProofIndex s
forall x.
PAuthorisedScriptProofIndex s
-&gt; Rep (PAuthorisedScriptProofIndex s) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (s :: S) x.
Rep (PAuthorisedScriptProofIndex s) x
-&gt; PAuthorisedScriptProofIndex s
forall (s :: S) x.
PAuthorisedScriptProofIndex s
-&gt; Rep (PAuthorisedScriptProofIndex s) x
$cfrom :: forall (s :: S) x.
PAuthorisedScriptProofIndex s
-&gt; Rep (PAuthorisedScriptProofIndex s) x
from :: forall x.
PAuthorisedScriptProofIndex s
-&gt; Rep (PAuthorisedScriptProofIndex s) x
$cto :: forall (s :: S) x.
Rep (PAuthorisedScriptProofIndex s) x
-&gt; PAuthorisedScriptProofIndex s
to :: forall x.
Rep (PAuthorisedScriptProofIndex s) x
-&gt; PAuthorisedScriptProofIndex s
</span><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679225570"><span id="local-6989586621679225579"><span class="annot"><span class="annottext">All @[Type] (SListI @Type) (Code (PAuthorisedScriptProofIndex s))
All
  @[Type] (SListI @Type) (Code (PAuthorisedScriptProofIndex s)) =&gt;
(PAuthorisedScriptProofIndex s
 -&gt; Rep (PAuthorisedScriptProofIndex s))
-&gt; (Rep (PAuthorisedScriptProofIndex s)
    -&gt; PAuthorisedScriptProofIndex s)
-&gt; Generic (PAuthorisedScriptProofIndex s)
Rep (PAuthorisedScriptProofIndex s)
-&gt; PAuthorisedScriptProofIndex s
PAuthorisedScriptProofIndex s
-&gt; Rep (PAuthorisedScriptProofIndex s)
forall a.
All @[Type] (SListI @Type) (Code a) =&gt;
(a -&gt; Rep a) -&gt; (Rep a -&gt; a) -&gt; Generic a
forall (s :: S).
All @[Type] (SListI @Type) (Code (PAuthorisedScriptProofIndex s))
forall (s :: S).
Rep (PAuthorisedScriptProofIndex s)
-&gt; PAuthorisedScriptProofIndex s
forall (s :: S).
PAuthorisedScriptProofIndex s
-&gt; Rep (PAuthorisedScriptProofIndex s)
$cfrom :: forall (s :: S).
PAuthorisedScriptProofIndex s
-&gt; Rep (PAuthorisedScriptProofIndex s)
from :: PAuthorisedScriptProofIndex s
-&gt; Rep (PAuthorisedScriptProofIndex s)
$cto :: forall (s :: S).
Rep (PAuthorisedScriptProofIndex s)
-&gt; PAuthorisedScriptProofIndex s
to :: Rep (PAuthorisedScriptProofIndex s)
-&gt; PAuthorisedScriptProofIndex s
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var">SOP.Generic</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679225597"><span id="local-6989586621679225603"><span class="annot"><span class="annottext">(forall (s :: S).
 Term s (PAsData PAuthorisedScriptProofIndex)
 -&gt; Term s PAuthorisedScriptProofIndex)
-&gt; (forall (s :: S).
    Term s PAuthorisedScriptProofIndex -&gt; Term s PData)
-&gt; PIsData PAuthorisedScriptProofIndex
forall (s :: S).
Term s (PAsData PAuthorisedScriptProofIndex)
-&gt; Term s PAuthorisedScriptProofIndex
forall (s :: S). Term s PAuthorisedScriptProofIndex -&gt; Term s PData
forall (a :: S -&gt; Type).
(forall (s :: S). Term s (PAsData a) -&gt; Term s a)
-&gt; (forall (s :: S). Term s a -&gt; Term s PData) -&gt; PIsData a
$cpfromDataImpl :: forall (s :: S).
Term s (PAsData PAuthorisedScriptProofIndex)
-&gt; Term s PAuthorisedScriptProofIndex
pfromDataImpl :: forall (s :: S).
Term s (PAsData PAuthorisedScriptProofIndex)
-&gt; Term s PAuthorisedScriptProofIndex
$cpdataImpl :: forall (s :: S). Term s PAuthorisedScriptProofIndex -&gt; Term s PData
pdataImpl :: forall (s :: S). Term s PAuthorisedScriptProofIndex -&gt; Term s PData
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">PIsData</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679225609"><span id="local-6989586621679225616"><span class="annot"><span class="annottext">(forall (s :: S).
 PAuthorisedScriptProofIndex s
 -&gt; Term s (PInner PAuthorisedScriptProofIndex))
-&gt; (forall (s :: S) (b :: S -&gt; Type).
    Term s (PInner PAuthorisedScriptProofIndex)
    -&gt; (PAuthorisedScriptProofIndex s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType PAuthorisedScriptProofIndex
forall (s :: S).
PAuthorisedScriptProofIndex s
-&gt; Term s (PInner PAuthorisedScriptProofIndex)
forall (s :: S) (b :: S -&gt; Type).
Term s (PInner PAuthorisedScriptProofIndex)
-&gt; (PAuthorisedScriptProofIndex s -&gt; Term s b) -&gt; Term s b
forall (a :: S -&gt; Type).
(forall (s :: S). a s -&gt; Term s (PInner a))
-&gt; (forall (s :: S) (b :: S -&gt; Type).
    Term s (PInner a) -&gt; (a s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType a
$cpcon' :: forall (s :: S).
PAuthorisedScriptProofIndex s
-&gt; Term s (PInner PAuthorisedScriptProofIndex)
pcon' :: forall (s :: S).
PAuthorisedScriptProofIndex s
-&gt; Term s (PInner PAuthorisedScriptProofIndex)
$cpmatch' :: forall (s :: S) (b :: S -&gt; Type).
Term s (PInner PAuthorisedScriptProofIndex)
-&gt; (PAuthorisedScriptProofIndex s -&gt; Term s b) -&gt; Term s b
pmatch' :: forall (s :: S) (b :: S -&gt; Type).
Term s (PInner PAuthorisedScriptProofIndex)
-&gt; (PAuthorisedScriptProofIndex s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">PlutusType</span></span></span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DeriveNewtypePlutusType</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptProofIndex"><span class="hs-identifier hs-type">PAuthorisedScriptProofIndex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span>  </span><span class="hs-keyword">deriving</span><span>
</span><span id="line-99"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679225628"><span id="local-6989586621679225636"><span id="local-6989586621679225644"><span id="local-6989586621679225652"><span class="annot"><span class="annottext">PlutusType PAuthorisedScriptProofIndex
AsHaskell PAuthorisedScriptProofIndex
-&gt; PlutusRepr PAuthorisedScriptProofIndex
PlutusRepr PAuthorisedScriptProofIndex
-&gt; Either LiftError (AsHaskell PAuthorisedScriptProofIndex)
PlutusType PAuthorisedScriptProofIndex =&gt;
(AsHaskell PAuthorisedScriptProofIndex
 -&gt; PlutusRepr PAuthorisedScriptProofIndex)
-&gt; (PlutusRepr PAuthorisedScriptProofIndex
    -&gt; Either LiftError (AsHaskell PAuthorisedScriptProofIndex))
-&gt; (forall (s :: S).
    PlutusRepr PAuthorisedScriptProofIndex
    -&gt; PLifted s PAuthorisedScriptProofIndex)
-&gt; ((forall (s :: S). PLifted s PAuthorisedScriptProofIndex)
    -&gt; Either LiftError (PlutusRepr PAuthorisedScriptProofIndex))
-&gt; PLiftable PAuthorisedScriptProofIndex
(forall (s :: S). PLifted s PAuthorisedScriptProofIndex)
-&gt; Either LiftError (PlutusRepr PAuthorisedScriptProofIndex)
forall (s :: S).
PlutusRepr PAuthorisedScriptProofIndex
-&gt; PLifted s PAuthorisedScriptProofIndex
forall (a :: S -&gt; Type).
PlutusType a =&gt;
(AsHaskell a -&gt; PlutusRepr a)
-&gt; (PlutusRepr a -&gt; Either LiftError (AsHaskell a))
-&gt; (forall (s :: S). PlutusRepr a -&gt; PLifted s a)
-&gt; ((forall (s :: S). PLifted s a)
    -&gt; Either LiftError (PlutusRepr a))
-&gt; PLiftable a
$chaskToRepr :: AsHaskell PAuthorisedScriptProofIndex
-&gt; PlutusRepr PAuthorisedScriptProofIndex
haskToRepr :: AsHaskell PAuthorisedScriptProofIndex
-&gt; PlutusRepr PAuthorisedScriptProofIndex
$creprToHask :: PlutusRepr PAuthorisedScriptProofIndex
-&gt; Either LiftError (AsHaskell PAuthorisedScriptProofIndex)
reprToHask :: PlutusRepr PAuthorisedScriptProofIndex
-&gt; Either LiftError (AsHaskell PAuthorisedScriptProofIndex)
$creprToPlut :: forall (s :: S).
PlutusRepr PAuthorisedScriptProofIndex
-&gt; PLifted s PAuthorisedScriptProofIndex
reprToPlut :: forall (s :: S).
PlutusRepr PAuthorisedScriptProofIndex
-&gt; PLifted s PAuthorisedScriptProofIndex
$cplutToRepr :: (forall (s :: S). PLifted s PAuthorisedScriptProofIndex)
-&gt; Either LiftError (PlutusRepr PAuthorisedScriptProofIndex)
plutToRepr :: (forall (s :: S). PLifted s PAuthorisedScriptProofIndex)
-&gt; Either LiftError (PlutusRepr PAuthorisedScriptProofIndex)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">PLiftable</span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>    </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DeriveNewtypePLiftable</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptProofIndex"><span class="hs-identifier hs-type">PAuthorisedScriptProofIndex</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">AuthorisedScriptProofIndex</span></span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679225761"><span class="annot"><span class="hs-identifier hs-type">PTryFrom</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptProofIndex"><span class="hs-identifier hs-type">PAuthorisedScriptProofIndex</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="annot"><span class="hs-comment">-- | A data type representing the redeemer for yielding transactions.</span></span><span>
</span><span id="line-105"></span><span class="hs-keyword">data</span><span> </span><span id="PYieldingRedeemer"><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PYieldingRedeemer"><span class="hs-identifier hs-var">PYieldingRedeemer</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679225080"><span class="annot"><a href="#local-6989586621679225080"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PYieldingRedeemer"><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PYieldingRedeemer"><span class="hs-identifier hs-var">PYieldingRedeemer</span></a></span></span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="%24sel%3AauthorisedScriptIndex%3APYieldingRedeemer"><span class="annot"><span class="annottext">forall (s :: S).
PYieldingRedeemer s -&gt; Term s (PAsData PAuthorisedScriptIndex)
</span><a href="Cardano.YTxP.Control.Yielding.html#%24sel%3AauthorisedScriptIndex%3APYieldingRedeemer"><span class="hs-identifier hs-var hs-var">authorisedScriptIndex</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679225080"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptIndex"><span class="hs-identifier hs-type">PAuthorisedScriptIndex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AauthorisedScriptProofIndex%3APYieldingRedeemer"><span class="annot"><span class="annottext">forall (s :: S).
PYieldingRedeemer s -&gt; Term s (PAsData PAuthorisedScriptProofIndex)
</span><a href="Cardano.YTxP.Control.Yielding.html#%24sel%3AauthorisedScriptProofIndex%3APYieldingRedeemer"><span class="hs-identifier hs-var hs-var">authorisedScriptProofIndex</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679225080"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PAuthorisedScriptProofIndex"><span class="hs-identifier hs-type">PAuthorisedScriptProofIndex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-109"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679225773"><span id="local-6989586621679225775"><span class="annot"><span class="annottext">(forall x. PYieldingRedeemer s -&gt; Rep (PYieldingRedeemer s) x)
-&gt; (forall x. Rep (PYieldingRedeemer s) x -&gt; PYieldingRedeemer s)
-&gt; Generic (PYieldingRedeemer s)
forall x. Rep (PYieldingRedeemer s) x -&gt; PYieldingRedeemer s
forall x. PYieldingRedeemer s -&gt; Rep (PYieldingRedeemer s) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (s :: S) x.
Rep (PYieldingRedeemer s) x -&gt; PYieldingRedeemer s
forall (s :: S) x.
PYieldingRedeemer s -&gt; Rep (PYieldingRedeemer s) x
$cfrom :: forall (s :: S) x.
PYieldingRedeemer s -&gt; Rep (PYieldingRedeemer s) x
from :: forall x. PYieldingRedeemer s -&gt; Rep (PYieldingRedeemer s) x
$cto :: forall (s :: S) x.
Rep (PYieldingRedeemer s) x -&gt; PYieldingRedeemer s
to :: forall x. Rep (PYieldingRedeemer s) x -&gt; PYieldingRedeemer s
</span><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679225781"><span id="local-6989586621679225790"><span class="annot"><span class="annottext">All @[Type] (SListI @Type) (Code (PYieldingRedeemer s))
All @[Type] (SListI @Type) (Code (PYieldingRedeemer s)) =&gt;
(PYieldingRedeemer s -&gt; Rep (PYieldingRedeemer s))
-&gt; (Rep (PYieldingRedeemer s) -&gt; PYieldingRedeemer s)
-&gt; Generic (PYieldingRedeemer s)
Rep (PYieldingRedeemer s) -&gt; PYieldingRedeemer s
PYieldingRedeemer s -&gt; Rep (PYieldingRedeemer s)
forall a.
All @[Type] (SListI @Type) (Code a) =&gt;
(a -&gt; Rep a) -&gt; (Rep a -&gt; a) -&gt; Generic a
forall (s :: S).
All @[Type] (SListI @Type) (Code (PYieldingRedeemer s))
forall (s :: S). Rep (PYieldingRedeemer s) -&gt; PYieldingRedeemer s
forall (s :: S). PYieldingRedeemer s -&gt; Rep (PYieldingRedeemer s)
$cfrom :: forall (s :: S). PYieldingRedeemer s -&gt; Rep (PYieldingRedeemer s)
from :: PYieldingRedeemer s -&gt; Rep (PYieldingRedeemer s)
$cto :: forall (s :: S). Rep (PYieldingRedeemer s) -&gt; PYieldingRedeemer s
to :: Rep (PYieldingRedeemer s) -&gt; PYieldingRedeemer s
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var">SOP.Generic</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679225818"><span id="local-6989586621679225824"><span class="annot"><span class="annottext">(forall (s :: S).
 Term s (PAsData PYieldingRedeemer) -&gt; Term s PYieldingRedeemer)
-&gt; (forall (s :: S). Term s PYieldingRedeemer -&gt; Term s PData)
-&gt; PIsData PYieldingRedeemer
forall (s :: S).
Term s (PAsData PYieldingRedeemer) -&gt; Term s PYieldingRedeemer
forall (s :: S). Term s PYieldingRedeemer -&gt; Term s PData
forall (a :: S -&gt; Type).
(forall (s :: S). Term s (PAsData a) -&gt; Term s a)
-&gt; (forall (s :: S). Term s a -&gt; Term s PData) -&gt; PIsData a
$cpfromDataImpl :: forall (s :: S).
Term s (PAsData PYieldingRedeemer) -&gt; Term s PYieldingRedeemer
pfromDataImpl :: forall (s :: S).
Term s (PAsData PYieldingRedeemer) -&gt; Term s PYieldingRedeemer
$cpdataImpl :: forall (s :: S). Term s PYieldingRedeemer -&gt; Term s PData
pdataImpl :: forall (s :: S). Term s PYieldingRedeemer -&gt; Term s PData
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">PIsData</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-111"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679225830"><span id="local-6989586621679225841"><span class="annot"><span class="annottext">(forall (s :: S).
 PYieldingRedeemer s -&gt; Term s (PInner PYieldingRedeemer))
-&gt; (forall (s :: S) (b :: S -&gt; Type).
    Term s (PInner PYieldingRedeemer)
    -&gt; (PYieldingRedeemer s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType PYieldingRedeemer
forall (s :: S).
PYieldingRedeemer s -&gt; Term s (PInner PYieldingRedeemer)
forall (s :: S) (b :: S -&gt; Type).
Term s (PInner PYieldingRedeemer)
-&gt; (PYieldingRedeemer s -&gt; Term s b) -&gt; Term s b
forall (a :: S -&gt; Type).
(forall (s :: S). a s -&gt; Term s (PInner a))
-&gt; (forall (s :: S) (b :: S -&gt; Type).
    Term s (PInner a) -&gt; (a s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType a
$cpcon' :: forall (s :: S).
PYieldingRedeemer s -&gt; Term s (PInner PYieldingRedeemer)
pcon' :: forall (s :: S).
PYieldingRedeemer s -&gt; Term s (PInner PYieldingRedeemer)
$cpmatch' :: forall (s :: S) (b :: S -&gt; Type).
Term s (PInner PYieldingRedeemer)
-&gt; (PYieldingRedeemer s -&gt; Term s b) -&gt; Term s b
pmatch' :: forall (s :: S) (b :: S -&gt; Type).
Term s (PInner PYieldingRedeemer)
-&gt; (PYieldingRedeemer s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">PlutusType</span></span></span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DeriveAsDataStruct</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PYieldingRedeemer"><span class="hs-identifier hs-type">PYieldingRedeemer</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-keyword">deriving</span><span>
</span><span id="line-113"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679225895"><span id="local-6989586621679225905"><span id="local-6989586621679225914"><span id="local-6989586621679225923"><span class="annot"><span class="annottext">PlutusType PYieldingRedeemer
AsHaskell PYieldingRedeemer -&gt; PlutusRepr PYieldingRedeemer
PlutusRepr PYieldingRedeemer
-&gt; Either LiftError (AsHaskell PYieldingRedeemer)
PlutusType PYieldingRedeemer =&gt;
(AsHaskell PYieldingRedeemer -&gt; PlutusRepr PYieldingRedeemer)
-&gt; (PlutusRepr PYieldingRedeemer
    -&gt; Either LiftError (AsHaskell PYieldingRedeemer))
-&gt; (forall (s :: S).
    PlutusRepr PYieldingRedeemer -&gt; PLifted s PYieldingRedeemer)
-&gt; ((forall (s :: S). PLifted s PYieldingRedeemer)
    -&gt; Either LiftError (PlutusRepr PYieldingRedeemer))
-&gt; PLiftable PYieldingRedeemer
(forall (s :: S). PLifted s PYieldingRedeemer)
-&gt; Either LiftError (PlutusRepr PYieldingRedeemer)
forall (s :: S).
PlutusRepr PYieldingRedeemer -&gt; PLifted s PYieldingRedeemer
forall (a :: S -&gt; Type).
PlutusType a =&gt;
(AsHaskell a -&gt; PlutusRepr a)
-&gt; (PlutusRepr a -&gt; Either LiftError (AsHaskell a))
-&gt; (forall (s :: S). PlutusRepr a -&gt; PLifted s a)
-&gt; ((forall (s :: S). PLifted s a)
    -&gt; Either LiftError (PlutusRepr a))
-&gt; PLiftable a
$chaskToRepr :: AsHaskell PYieldingRedeemer -&gt; PlutusRepr PYieldingRedeemer
haskToRepr :: AsHaskell PYieldingRedeemer -&gt; PlutusRepr PYieldingRedeemer
$creprToHask :: PlutusRepr PYieldingRedeemer
-&gt; Either LiftError (AsHaskell PYieldingRedeemer)
reprToHask :: PlutusRepr PYieldingRedeemer
-&gt; Either LiftError (AsHaskell PYieldingRedeemer)
$creprToPlut :: forall (s :: S).
PlutusRepr PYieldingRedeemer -&gt; PLifted s PYieldingRedeemer
reprToPlut :: forall (s :: S).
PlutusRepr PYieldingRedeemer -&gt; PLifted s PYieldingRedeemer
$cplutToRepr :: (forall (s :: S). PLifted s PYieldingRedeemer)
-&gt; Either LiftError (PlutusRepr PYieldingRedeemer)
plutToRepr :: (forall (s :: S). PLifted s PYieldingRedeemer)
-&gt; Either LiftError (PlutusRepr PYieldingRedeemer)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">PLiftable</span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DeriveDataPLiftable</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PYieldingRedeemer"><span class="hs-identifier hs-type">PYieldingRedeemer</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">YieldingRedeemer</span></span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679225950"><span class="annot"><span class="hs-identifier hs-type">PTryFrom</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PYieldingRedeemer"><span class="hs-identifier hs-type">PYieldingRedeemer</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="annot"><span class="hs-comment">{- | Retrieves the hash of an authorised script based on the provided currency symbol,
transaction reference inputs, and yielding redeemer.
-}</span></span><span>
</span><span id="line-121"></span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#getAuthorisedScriptHash"><span class="hs-identifier hs-type">getAuthorisedScriptHash</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-122"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679225115"><span class="annot"><a href="#local-6989586621679225115"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-123"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-124"></span><span>    </span><span class="annot"><a href="#local-6989586621679225115"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-125"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PCurrencySymbol</span></span><span>
</span><span id="line-126"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PTxInInfo</span></span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PYieldingRedeemer"><span class="hs-identifier hs-type">PYieldingRedeemer</span></a></span><span>
</span><span id="line-128"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PScriptHash</span></span><span>
</span><span id="line-129"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span id="getAuthorisedScriptHash"><span class="annot"><span class="annottext">getAuthorisedScriptHash :: forall (s :: S).
Term
  s
  (PCurrencySymbol
   :--&gt; (PBuiltinList (PAsData PTxInInfo)
         :--&gt; (PYieldingRedeemer :--&gt; PScriptHash)))
</span><a href="Cardano.YTxP.Control.Yielding.html#getAuthorisedScriptHash"><span class="hs-identifier hs-var hs-var">getAuthorisedScriptHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (s :: S).
 Term
   s
   (PCurrencySymbol
    :--&gt; (PBuiltinList (PAsData PTxInInfo)
          :--&gt; (PYieldingRedeemer :--&gt; PScriptHash))))
-&gt; Term
     s
     (PCurrencySymbol
      :--&gt; (PBuiltinList (PAsData PTxInInfo)
            :--&gt; (PYieldingRedeemer :--&gt; PScriptHash)))
forall (a :: S -&gt; Type) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">((forall (s :: S).
  Term
    s
    (PCurrencySymbol
     :--&gt; (PBuiltinList (PAsData PTxInInfo)
           :--&gt; (PYieldingRedeemer :--&gt; PScriptHash))))
 -&gt; Term
      s
      (PCurrencySymbol
       :--&gt; (PBuiltinList (PAsData PTxInInfo)
             :--&gt; (PYieldingRedeemer :--&gt; PScriptHash))))
-&gt; (forall (s :: S).
    Term
      s
      (PCurrencySymbol
       :--&gt; (PBuiltinList (PAsData PTxInInfo)
             :--&gt; (PYieldingRedeemer :--&gt; PScriptHash))))
-&gt; Term
     s
     (PCurrencySymbol
      :--&gt; (PBuiltinList (PAsData PTxInInfo)
            :--&gt; (PYieldingRedeemer :--&gt; PScriptHash)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-131"></span><span>  </span><span class="annot"><span class="annottext">(Term s PCurrencySymbol
 -&gt; Term s (PBuiltinList (PAsData PTxInInfo))
 -&gt; Term s PYieldingRedeemer
 -&gt; Term s PScriptHash)
-&gt; Term
     s
     (PCurrencySymbol
      :--&gt; (PBuiltinList (PAsData PTxInInfo)
            :--&gt; (PYieldingRedeemer :--&gt; PScriptHash)))
forall a (b :: S -&gt; Type) (s :: S) (c :: S -&gt; Type).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: S -&gt; Type).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinList (PAsData PTxInInfo))
 -&gt; Term s PYieldingRedeemer
 -&gt; Term s PScriptHash)
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinList (PAsData PTxInInfo)
            :--&gt; (PYieldingRedeemer :--&gt; PScriptHash)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s PCurrencySymbol
  -&gt; Term s (PBuiltinList (PAsData PTxInInfo))
  -&gt; Term s PYieldingRedeemer
  -&gt; Term s PScriptHash)
 -&gt; Term
      s
      (PCurrencySymbol
       :--&gt; (PBuiltinList (PAsData PTxInInfo)
             :--&gt; (PYieldingRedeemer :--&gt; PScriptHash))))
-&gt; (Term s PCurrencySymbol
    -&gt; Term s (PBuiltinList (PAsData PTxInInfo))
    -&gt; Term s PYieldingRedeemer
    -&gt; Term s PScriptHash)
-&gt; Term
     s
     (PCurrencySymbol
      :--&gt; (PBuiltinList (PAsData PTxInInfo)
            :--&gt; (PYieldingRedeemer :--&gt; PScriptHash)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-132"></span><span>    </span><span class="hs-glyph">\</span><span id="local-6989586621679226004"><span class="annot"><span class="annottext">Term s PCurrencySymbol
</span><a href="#local-6989586621679226004"><span class="hs-identifier hs-var">psymbol</span></a></span></span><span> </span><span id="local-6989586621679226005"><span class="annot"><span class="annottext">Term s (PBuiltinList (PAsData PTxInInfo))
</span><a href="#local-6989586621679226005"><span class="hs-identifier hs-var">txInfoRefInputs</span></a></span></span><span> </span><span id="local-6989586621679226006"><span class="annot"><span class="annottext">Term s PYieldingRedeemer
</span><a href="#local-6989586621679226006"><span class="hs-identifier hs-var">redeemer</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermCont @PScriptHash s (Term s PScriptHash) -&gt; Term s PScriptHash
forall (a :: S -&gt; Type) (s :: S).
TermCont @a s (Term s a) -&gt; Term s a
</span><span class="hs-identifier hs-var">unTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont @PScriptHash s (Term s PScriptHash)
 -&gt; Term s PScriptHash)
-&gt; TermCont @PScriptHash s (Term s PScriptHash)
-&gt; Term s PScriptHash
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-133"></span><span>      </span><span class="hs-comment">-- TODO (OPTIMIZE): these values only get used once, can be a `let`</span><span>
</span><span id="line-134"></span><span>      </span><span class="annot"><a href="Cardano.YTxP.Control.Yielding.html#PYieldingRedeemer"><span class="hs-identifier hs-type">PYieldingRedeemer</span></a></span><span> </span><span id="local-6989586621679226008"><span class="annot"><span class="annottext">Term s (PAsData PAuthorisedScriptIndex)
</span><a href="#local-6989586621679226008"><span class="hs-identifier hs-var">authorisedScriptIndex</span></a></span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData PAuthorisedScriptProofIndex)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term s PYieldingRedeemer
-&gt; TermCont @PScriptHash s (PYieldingRedeemer s)
forall {r :: S -&gt; Type} (a :: S -&gt; Type) (s :: S).
PlutusType a =&gt;
Term s a -&gt; TermCont @r s (a s)
</span><span class="hs-identifier hs-var">pmatchC</span></span><span> </span><span class="annot"><span class="annottext">Term s PYieldingRedeemer
</span><a href="#local-6989586621679226006"><span class="hs-identifier hs-var">redeemer</span></a></span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679226010"><span class="annot"><span class="annottext">autorisedScriptRefUTxO :: Term s (PAsData PTxInInfo)
</span><a href="#local-6989586621679226010"><span class="hs-identifier hs-var hs-var">autorisedScriptRefUTxO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-137"></span><span>            </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PAsData PTxInInfo))
</span><a href="#local-6989586621679226005"><span class="hs-identifier hs-var">txInfoRefInputs</span></a></span><span class="hs-cpp">
              #!! pto (pfromData authorisedScriptIndex)
</span><span>
</span><span id="line-140"></span><span>      </span><span id="local-6989586621679226014"><span class="annot"><span class="annottext">PTxInInfo s
</span><a href="#local-6989586621679226014"><span class="hs-identifier hs-var">scriptRefFields</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term s PTxInInfo -&gt; TermCont @PScriptHash s (PTxInInfo s)
forall {r :: S -&gt; Type} (a :: S -&gt; Type) (s :: S).
PlutusType a =&gt;
Term s a -&gt; TermCont @r s (a s)
</span><span class="hs-identifier hs-var">pmatchC</span></span><span> </span><span class="annot"><span class="annottext">(Term s PTxInInfo -&gt; TermCont @PScriptHash s (PTxInInfo s))
-&gt; Term s PTxInInfo -&gt; TermCont @PScriptHash s (PTxInInfo s)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData PTxInInfo) -&gt; Term s PTxInInfo
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData PTxInInfo)
</span><a href="#local-6989586621679226010"><span class="hs-identifier hs-var">autorisedScriptRefUTxO</span></a></span><span>
</span><span id="line-141"></span><span>      </span><span id="local-6989586621679226015"><span class="annot"><span class="annottext">Term s PTxOut
</span><a href="#local-6989586621679226015"><span class="hs-identifier hs-var">resolved'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term s PTxOut -&gt; TermCont @PScriptHash s (Term s PTxOut)
forall {r :: S -&gt; Type} (s :: S) (a :: S -&gt; Type).
Term s a -&gt; TermCont @r s (Term s a)
</span><span class="hs-identifier hs-var">pletC</span></span><span> </span><span class="annot"><span class="annottext">(Term s PTxOut -&gt; TermCont @PScriptHash s (Term s PTxOut))
-&gt; Term s PTxOut -&gt; TermCont @PScriptHash s (Term s PTxOut)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PTxInInfo s -&gt; Term s PTxOut
forall (s :: S). PTxInInfo s -&gt; Term s PTxOut
</span><span class="hs-identifier hs-var">ptxInInfo'resolved</span></span><span> </span><span class="annot"><span class="annottext">PTxInInfo s
</span><a href="#local-6989586621679226014"><span class="hs-identifier hs-var">scriptRefFields</span></a></span><span>
</span><span id="line-142"></span><span>      </span><span id="local-6989586621679226017"><span class="annot"><span class="annottext">PTxOut s
</span><a href="#local-6989586621679226017"><span class="hs-identifier hs-var">resolved</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term s PTxOut -&gt; TermCont @PScriptHash s (PTxOut s)
forall {r :: S -&gt; Type} (a :: S -&gt; Type) (s :: S).
PlutusType a =&gt;
Term s a -&gt; TermCont @r s (a s)
</span><span class="hs-identifier hs-var">pmatchC</span></span><span> </span><span class="annot"><span class="annottext">Term s PTxOut
</span><a href="#local-6989586621679226015"><span class="hs-identifier hs-var">resolved'</span></a></span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span>      </span><span class="hs-keyword">let</span><span>
</span><span id="line-145"></span><span>        </span><span id="local-6989586621679226018"><span class="annot"><span class="annottext">value :: Term s (PAsData (PValue 'Sorted 'Positive))
</span><a href="#local-6989586621679226018"><span class="hs-identifier hs-var hs-var">value</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PTxOut s -&gt; Term s (PAsData (PValue 'Sorted 'Positive))
forall (s :: S).
PTxOut s -&gt; Term s (PAsData (PValue 'Sorted 'Positive))
</span><span class="hs-identifier hs-var">ptxOut'value</span></span><span> </span><span class="annot"><span class="annottext">PTxOut s
</span><a href="#local-6989586621679226017"><span class="hs-identifier hs-var">resolved</span></a></span><span>
</span><span id="line-146"></span><span>        </span><span id="local-6989586621679226019"><span class="annot"><span class="annottext">referenceScript :: Term s (PMaybeData PScriptHash)
</span><a href="#local-6989586621679226019"><span class="hs-identifier hs-var hs-var">referenceScript</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PTxOut s -&gt; Term s (PMaybeData PScriptHash)
forall (s :: S). PTxOut s -&gt; Term s (PMaybeData PScriptHash)
</span><span class="hs-identifier hs-var">ptxOut'referenceScript</span></span><span> </span><span class="annot"><span class="annottext">PTxOut s
</span><a href="#local-6989586621679226017"><span class="hs-identifier hs-var">resolved</span></a></span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span>      </span><span class="annot"><span class="annottext">Term s PScriptHash -&gt; TermCont @PScriptHash s (Term s PScriptHash)
forall a. a -&gt; TermCont @PScriptHash s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s PScriptHash
 -&gt; TermCont @PScriptHash s (Term s PScriptHash))
-&gt; Term s PScriptHash
-&gt; TermCont @PScriptHash s (Term s PScriptHash)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-149"></span><span>        </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s PScriptHash -&gt; Term s PScriptHash -&gt; Term s PScriptHash
forall (a :: S -&gt; Type) (s :: S).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-150"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PCurrencySymbol
   :--&gt; (PMap
           'Sorted PCurrencySymbol (PMap 'Sorted PTokenName PInteger)
         :--&gt; PBool))
forall (k :: S -&gt; Type) (s :: S) (any :: KeyGuarantees)
       (v :: S -&gt; Type).
PIsData k =&gt;
Term s (k :--&gt; (PMap any k v :--&gt; PBool))
</span><a href="Utils.html#pmember"><span class="hs-identifier hs-var">pmember</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PCurrencySymbol
   :--&gt; (PMap
           'Sorted PCurrencySymbol (PMap 'Sorted PTokenName PInteger)
         :--&gt; PBool))
-&gt; Term s PCurrencySymbol
-&gt; Term
     s
     (PMap 'Sorted PCurrencySymbol (PMap 'Sorted PTokenName PInteger)
      :--&gt; PBool)
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s PCurrencySymbol
</span><a href="#local-6989586621679226004"><span class="hs-identifier hs-var">psymbol</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PMap 'Sorted PCurrencySymbol (PMap 'Sorted PTokenName PInteger)
   :--&gt; PBool)
-&gt; Term
     s (PMap 'Sorted PCurrencySymbol (PMap 'Sorted PTokenName PInteger))
-&gt; Term s PBool
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PValue 'Sorted 'Positive)
-&gt; Term s (PInner (PValue 'Sorted 'Positive))
forall (s :: S) (a :: S -&gt; Type). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData (PValue 'Sorted 'Positive))
-&gt; Term s (PValue 'Sorted 'Positive)
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData (PValue 'Sorted 'Positive))
</span><a href="#local-6989586621679226018"><span class="hs-identifier hs-var">value</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- TODO (OPTIMIZE): make partial (`has`/`lacks`) variants and use those instead</span><span>
</span><span id="line-151"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s (PMaybeData PScriptHash)
-&gt; (PMaybeData PScriptHash s -&gt; Term s PScriptHash)
-&gt; Term s PScriptHash
forall (a :: S -&gt; Type) (s :: S) (b :: S -&gt; Type).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMaybeData PScriptHash)
</span><a href="#local-6989586621679226019"><span class="hs-identifier hs-var">referenceScript</span></a></span><span> </span><span class="annot"><span class="annottext">((PMaybeData PScriptHash s -&gt; Term s PScriptHash)
 -&gt; Term s PScriptHash)
-&gt; (PMaybeData PScriptHash s -&gt; Term s PScriptHash)
-&gt; Term s PScriptHash
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-152"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">PDJust</span></span><span> </span><span id="local-6989586621679226023"><span class="annot"><span class="annottext">Term s (PAsData PScriptHash)
</span><a href="#local-6989586621679226023"><span class="hs-identifier hs-var">autorisedScript</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PAsData PScriptHash) -&gt; Term s PScriptHash
forall (a :: S -&gt; Type) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData PScriptHash)
</span><a href="#local-6989586621679226023"><span class="hs-identifier hs-var">autorisedScript</span></a></span><span>
</span><span id="line-153"></span><span>              </span><span class="annot"><span class="annottext">PMaybeData PScriptHash s
</span><span class="hs-identifier hs-var">PDNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-154"></span><span>                </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s PString -&gt; Term s PScriptHash
forall (a :: S -&gt; Type) (s :: S). Term s PString -&gt; Term s a
</span><span class="hs-identifier hs-var">ptraceInfoError</span></span><span>
</span><span id="line-155"></span><span>                    </span><span class="annot"><span class="annottext">Term s PString
</span><span class="hs-string">&quot;getAuthorisedScriptHash: Reference input does not contain reference script&quot;</span></span><span>
</span><span id="line-156"></span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-157"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-158"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s PString -&gt; Term s PScriptHash
forall (a :: S -&gt; Type) (s :: S). Term s PString -&gt; Term s a
</span><span class="hs-identifier hs-var">ptraceInfoError</span></span><span>
</span><span id="line-159"></span><span>              </span><span class="annot"><span class="annottext">Term s PString
</span><span class="hs-string">&quot;getAuthorisedScriptHash: Reference input does not contain AuthorisedScriptsSTCS&quot;</span></span><span>
</span><span id="line-160"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-161"></span></pre></body></html>