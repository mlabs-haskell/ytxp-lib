<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Cardano.TestUtils</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ytxp-plutarch-0.2.1: Control scripts, types, and utilities for the YTxP architecture</span><ul class="links" id="page-menu"><li><a href="src/Cardano.TestUtils.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Cardano.TestUtils</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Polymorphic Types and Functions</a><ul><li><a href="#g:2">PreProcessing</a><ul><li><a href="#g:3">Construction</a></li><li><a href="#g:4">Elimination</a></li></ul></li><li><a href="#g:5">PreCondition Checking</a><ul><li><a href="#g:6">Construction</a></li><li><a href="#g:7">Elimination</a></li></ul></li><li><a href="#g:8">PostCondition Checking</a><ul><li><a href="#g:9">Construction</a></li><li><a href="#g:10">Elimination</a></li></ul></li><li><a href="#g:11">Test Cases</a></li></ul></li><li><a href="#g:12">TxFCEKMachinery</a><ul><li><a href="#g:13">Generic TxF TestCase</a><ul><li><a href="#g:14">Nominal Tests</a></li><li><a href="#g:15">Attack Tests</a></li></ul></li></ul></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module exposes a flexible way to generate test cases that go
through a pre-processing -&gt; pre-condition -&gt; execution -&gt; post-condition
pipeline.</p><p>The intention is to provide an easier interface to re-using predicates and pre-processors
between many tests and between different _kinds_ of tests, including nominal and attack
cases, as well as unit and property testing.</p><p>This module is currently targeted primarily at tests run on the CEK machine.
In the future, it may be expanded to be polymorphic in terms of arbitrary
&quot;computation&quot;. The current computation type is essentially hard-coded to</p><p>(Maybe Datum, Redeemer, ScriptContext, Script) -&gt; (Either EvalError Script, ExBudget, Logs)</p><p>but this could be expanded so that other types of tests (emulator, integration, serialization,
golden) could be run as well.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:PreProcessor">PreProcessor</a> err input</li><li class="src short"><a href="#v:mkPreProcessor">mkPreProcessor</a> :: (input -&gt; <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> err input) -&gt; <a href="Cardano-TestUtils.html#t:PreProcessor" title="Cardano.TestUtils">PreProcessor</a> err input</li><li class="src short"><a href="#v:preProcess">preProcess</a> :: [<a href="Cardano-TestUtils.html#t:PreProcessor" title="Cardano.TestUtils">PreProcessor</a> err input] -&gt; input -&gt; <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> err input</li><li class="src short"><span class="keyword">data</span> <a href="#t:PreCondition">PreCondition</a> err input</li><li class="src short"><a href="#v:mkPreCondition">mkPreCondition</a> :: (input -&gt; <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> err) -&gt; <a href="Cardano-TestUtils.html#t:PreCondition" title="Cardano.TestUtils">PreCondition</a> err input</li><li class="src short"><a href="#v:checkPreConditions">checkPreConditions</a> :: [<a href="Cardano-TestUtils.html#t:PreCondition" title="Cardano.TestUtils">PreCondition</a> err input] -&gt; input -&gt; <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> err</li><li class="src short"><span class="keyword">data</span> <a href="#t:PostCondition">PostCondition</a> err output</li><li class="src short"><a href="#v:mkPostCondition">mkPostCondition</a> :: (output -&gt; <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> err) -&gt; <a href="Cardano-TestUtils.html#t:PostCondition" title="Cardano.TestUtils">PostCondition</a> err output</li><li class="src short"><a href="#v:checkPostConditions">checkPostConditions</a> :: [<a href="Cardano-TestUtils.html#t:PostCondition" title="Cardano.TestUtils">PostCondition</a> err output] -&gt; output -&gt; <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> err</li><li class="src short"><span class="keyword">data</span> <a href="#t:PipelinedTestCase">PipelinedTestCase</a> errPP errPreC errPostC input output = <a href="#v:PipelinedTestCase">PipelinedTestCase</a> {<ul class="subs"><li><a href="#v:name">name</a> :: <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-String.html#t:String" title="Data.String">String</a></li><li><a href="#v:preProcessors">preProcessors</a> :: [<a href="Cardano-TestUtils.html#t:PreProcessor" title="Cardano.TestUtils">PreProcessor</a> errPP input]</li><li><a href="#v:preConditions">preConditions</a> :: [<a href="Cardano-TestUtils.html#t:PreCondition" title="Cardano.TestUtils">PreCondition</a> errPreC input]</li><li><a href="#v:input">input</a> :: input</li><li><a href="#v:computation">computation</a> :: input -&gt; output</li><li><a href="#v:postConditions">postConditions</a> :: [<a href="Cardano-TestUtils.html#t:PostCondition" title="Cardano.TestUtils">PostCondition</a> errPostC output]</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:PipelinedTestErrors">PipelinedTestErrors</a> errPP errPreC errPostC<ul class="subs"><li>= <a href="#v:PipelinedPreProcessorError">PipelinedPreProcessorError</a> errPP</li><li>| <a href="#v:PipelinedPreConditionError">PipelinedPreConditionError</a> errPreC</li><li>| <a href="#v:PipelinedPostConditionError">PipelinedPostConditionError</a> errPostC</li></ul></li><li class="src short"><a href="#v:pipelinedUnitCase">pipelinedUnitCase</a> :: (<a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> errPP, <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> errPreC, <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> errPostC) =&gt; <a href="Cardano-TestUtils.html#t:PipelinedTestCase" title="Cardano.TestUtils">PipelinedTestCase</a> errPP errPreC errPostC input output -&gt; TestTree</li><li class="src short"><span class="keyword">data</span> <a href="#t:TxFCEKCase">TxFCEKCase</a> errPP errPreC errPostC</li><li class="src short"><span class="keyword">data</span> <a href="#t:TxFCEKInput">TxFCEKInput</a> = <a href="#v:TxFCEKInput">TxFCEKInput</a> {<ul class="subs"><li><a href="#v:cekScriptContext">cekScriptContext</a> :: ScriptContext</li><li><a href="#v:cekScript">cekScript</a> :: Script</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:TxFCEKOutput">TxFCEKOutput</a> = <a href="#v:TxFCEKOutput">TxFCEKOutput</a> {<ul class="subs"><li><a href="#v:cekResult">cekResult</a> :: <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> EvalError Script</li><li><a href="#v:cekExBudget">cekExBudget</a> :: ExBudget</li><li><a href="#v:cekLogs">cekLogs</a> :: [<a href="../../ghc-9.6.7/html/libraries/text-2.0.2/Data-Text.html#t:Text" title="Data.Text">Text</a>]</li></ul>}</li><li class="src short"><a href="#v:mkTxFCEKCase">mkTxFCEKCase</a> :: <span class="keyword">forall</span> (errPP :: <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (errPreC :: <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (errPostC :: <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; [<a href="Cardano-TestUtils.html#t:PreProcessor" title="Cardano.TestUtils">PreProcessor</a> errPP <a href="Cardano-TestUtils.html#t:TxFCEKInput" title="Cardano.TestUtils">TxFCEKInput</a>] -&gt; [<a href="Cardano-TestUtils.html#t:PreCondition" title="Cardano.TestUtils">PreCondition</a> errPreC <a href="Cardano-TestUtils.html#t:TxFCEKInput" title="Cardano.TestUtils">TxFCEKInput</a>] -&gt; <a href="Cardano-TestUtils.html#t:TxFCEKInput" title="Cardano.TestUtils">TxFCEKInput</a> -&gt; [<a href="Cardano-TestUtils.html#t:PostCondition" title="Cardano.TestUtils">PostCondition</a> errPostC <a href="Cardano-TestUtils.html#t:TxFCEKOutput" title="Cardano.TestUtils">TxFCEKOutput</a>] -&gt; <a href="Cardano-TestUtils.html#t:TxFCEKCase" title="Cardano.TestUtils">TxFCEKCase</a> errPP errPreC errPostC</li><li class="src short"><a href="#v:txfCEKUnitCase">txfCEKUnitCase</a> :: <span class="keyword">forall</span> (errPP :: <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (errPreC :: <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (errPostC :: <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> errPP, <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> errPreC, <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> errPostC) =&gt; <a href="Cardano-TestUtils.html#t:TxFCEKCase" title="Cardano.TestUtils">TxFCEKCase</a> errPP errPreC errPostC -&gt; TestTree</li><li class="src short"><a href="#v:nominalPostCondition">nominalPostCondition</a> :: ((EvalError, [<a href="../../ghc-9.6.7/html/libraries/text-2.0.2/Data-Text.html#t:Text" title="Data.Text">Text</a>]) -&gt; err) -&gt; <a href="Cardano-TestUtils.html#t:PostCondition" title="Cardano.TestUtils">PostCondition</a> err <a href="Cardano-TestUtils.html#t:TxFCEKOutput" title="Cardano.TestUtils">TxFCEKOutput</a></li><li class="src short"><a href="#v:nominalCaseBasic">nominalCaseBasic</a> :: <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; ScriptContext -&gt; Script -&gt; <a href="Cardano-TestUtils.html#t:TxFCEKCase" title="Cardano.TestUtils">TxFCEKCase</a> <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><a href="#v:attackCaseRegexPostCondition">attackCaseRegexPostCondition</a> :: ((<a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a>, [<a href="../../ghc-9.6.7/html/libraries/text-2.0.2/Data-Text.html#t:Text" title="Data.Text">Text</a>]) -&gt; err) -&gt; RE -&gt; <a href="Cardano-TestUtils.html#t:PostCondition" title="Cardano.TestUtils">PostCondition</a> err <a href="Cardano-TestUtils.html#t:TxFCEKOutput" title="Cardano.TestUtils">TxFCEKOutput</a></li><li class="src short"><a href="#v:attackCaseBasicRegex">attackCaseBasicRegex</a> :: <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; RE -&gt; ScriptContext -&gt; Script -&gt; <a href="Cardano-TestUtils.html#t:PreProcessor" title="Cardano.TestUtils">PreProcessor</a> errPP <a href="Cardano-TestUtils.html#t:TxFCEKInput" title="Cardano.TestUtils">TxFCEKInput</a> -&gt; <a href="Cardano-TestUtils.html#t:TxFCEKCase" title="Cardano.TestUtils">TxFCEKCase</a> errPP <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-String.html#t:String" title="Data.String">String</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Polymorphic Types and Functions</h1></a><a href="#g:2" id="g:2"><h2>PreProcessing</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PreProcessor" class="def">PreProcessor</a> err input <a href="src/Cardano.TestUtils.html#PreProcessor" class="link">Source</a> <a href="#t:PreProcessor" class="selflink">#</a></p><div class="doc"><p>PreProcessing -- could be used for normalization or attacks</p></div></div><a href="#g:3" id="g:3"><h3>Construction</h3></a><div class="top"><p class="src"><a id="v:mkPreProcessor" class="def">mkPreProcessor</a> :: (input -&gt; <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> err input) -&gt; <a href="Cardano-TestUtils.html#t:PreProcessor" title="Cardano.TestUtils">PreProcessor</a> err input <a href="src/Cardano.TestUtils.html#mkPreProcessor" class="link">Source</a> <a href="#v:mkPreProcessor" class="selflink">#</a></p></div><a href="#g:4" id="g:4"><h3>Elimination</h3></a><div class="top"><p class="src"><a id="v:preProcess" class="def">preProcess</a> :: [<a href="Cardano-TestUtils.html#t:PreProcessor" title="Cardano.TestUtils">PreProcessor</a> err input] -&gt; input -&gt; <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> err input <a href="src/Cardano.TestUtils.html#preProcess" class="link">Source</a> <a href="#v:preProcess" class="selflink">#</a></p><div class="doc"><p>Given a list of preprocessors, apply them in order from left to right.
Returns the first error encountered, if any.</p></div></div><a href="#g:5" id="g:5"><h2>PreCondition Checking</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PreCondition" class="def">PreCondition</a> err input <a href="src/Cardano.TestUtils.html#PreCondition" class="link">Source</a> <a href="#t:PreCondition" class="selflink">#</a></p><div class="doc"><p>Checks for after the preprocessing is run. Could be used to check for
balancing, etc</p><p>TODO: rewrite as Kleisli?</p></div></div><a href="#g:6" id="g:6"><h3>Construction</h3></a><div class="top"><p class="src"><a id="v:mkPreCondition" class="def">mkPreCondition</a> :: (input -&gt; <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> err) -&gt; <a href="Cardano-TestUtils.html#t:PreCondition" title="Cardano.TestUtils">PreCondition</a> err input <a href="src/Cardano.TestUtils.html#mkPreCondition" class="link">Source</a> <a href="#v:mkPreCondition" class="selflink">#</a></p></div><a href="#g:7" id="g:7"><h3>Elimination</h3></a><div class="top"><p class="src"><a id="v:checkPreConditions" class="def">checkPreConditions</a> :: [<a href="Cardano-TestUtils.html#t:PreCondition" title="Cardano.TestUtils">PreCondition</a> err input] -&gt; input -&gt; <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> err <a href="src/Cardano.TestUtils.html#checkPreConditions" class="link">Source</a> <a href="#v:checkPreConditions" class="selflink">#</a></p><div class="doc"><p>Check a list of pre-conditions, returning the first error encountered</p></div></div><a href="#g:8" id="g:8"><h2>PostCondition Checking</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PostCondition" class="def">PostCondition</a> err output <a href="src/Cardano.TestUtils.html#PostCondition" class="link">Source</a> <a href="#t:PostCondition" class="selflink">#</a></p><div class="doc"><p>Represents a partial post-condition predicate on the result of
a call to `evalScript :: Script -&gt; (Either EvalError Script, ExBudget, [Text]) `
TODO: Rewrite as Kleisli?</p><p>TODO: If its possible to turn budgeting off, we should. These scripts
will be run with some logging output, and they wouldn't in production; thus
costing is not actually representative of anything useful.</p></div></div><a href="#g:9" id="g:9"><h3>Construction</h3></a><div class="top"><p class="src"><a id="v:mkPostCondition" class="def">mkPostCondition</a> :: (output -&gt; <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> err) -&gt; <a href="Cardano-TestUtils.html#t:PostCondition" title="Cardano.TestUtils">PostCondition</a> err output <a href="src/Cardano.TestUtils.html#mkPostCondition" class="link">Source</a> <a href="#v:mkPostCondition" class="selflink">#</a></p></div><a href="#g:10" id="g:10"><h3>Elimination</h3></a><div class="top"><p class="src"><a id="v:checkPostConditions" class="def">checkPostConditions</a> :: [<a href="Cardano-TestUtils.html#t:PostCondition" title="Cardano.TestUtils">PostCondition</a> err output] -&gt; output -&gt; <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> err <a href="src/Cardano.TestUtils.html#checkPostConditions" class="link">Source</a> <a href="#v:checkPostConditions" class="selflink">#</a></p><div class="doc"><p>Check a list of post-conditions from left to right, returning the first
error encountered</p></div></div><a href="#g:11" id="g:11"><h2>Test Cases</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PipelinedTestCase" class="def">PipelinedTestCase</a> errPP errPreC errPostC input output <a href="src/Cardano.TestUtils.html#PipelinedTestCase" class="link">Source</a> <a href="#t:PipelinedTestCase" class="selflink">#</a></p><div class="doc"><p>A type representing a named test case for a transaction family.
NOTE: if the `sc-tools` work ends up panning out, the <code>args</code> and <code>script</code> arguments
might get combined to a (Maybe Datum, Redeemer, ScriptContext, Script)</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PipelinedTestCase" class="def">PipelinedTestCase</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:name" class="def">name</a> :: <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-String.html#t:String" title="Data.String">String</a></dfn><div class="doc"><p>Name of the test case</p></div></li><li><dfn class="src"><a id="v:preProcessors" class="def">preProcessors</a> :: [<a href="Cardano-TestUtils.html#t:PreProcessor" title="Cardano.TestUtils">PreProcessor</a> errPP input]</dfn><div class="doc"><p>Pre-processors (normalizers or attacks); applied in order from left to right</p></div></li><li><dfn class="src"><a id="v:preConditions" class="def">preConditions</a> :: [<a href="Cardano-TestUtils.html#t:PreCondition" title="Cardano.TestUtils">PreCondition</a> errPreC input]</dfn><div class="doc"><p>Pre-condition Checking. Run after pre-processing</p></div></li><li><dfn class="src"><a id="v:input" class="def">input</a> :: input</dfn><div class="doc"><p>the input to the computation</p></div></li><li><dfn class="src"><a id="v:computation" class="def">computation</a> :: input -&gt; output</dfn><div class="doc"><p>the computation to run</p></div></li><li><dfn class="src"><a id="v:postConditions" class="def">postConditions</a> :: [<a href="Cardano-TestUtils.html#t:PostCondition" title="Cardano.TestUtils">PostCondition</a> errPostC output]</dfn><div class="doc"><p>Post conditions are checked after script execution</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PipelinedTestErrors" class="def">PipelinedTestErrors</a> errPP errPreC errPostC <a href="src/Cardano.TestUtils.html#PipelinedTestErrors" class="link">Source</a> <a href="#t:PipelinedTestErrors" class="selflink">#</a></p><div class="doc"><p>A sum type to collect the errors of a pipelined test case</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PipelinedPreProcessorError" class="def">PipelinedPreProcessorError</a> errPP</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:PipelinedPreConditionError" class="def">PipelinedPreConditionError</a> errPreC</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:PipelinedPostConditionError" class="def">PipelinedPostConditionError</a> errPostC</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:pipelinedUnitCase" class="def">pipelinedUnitCase</a> :: (<a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> errPP, <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> errPreC, <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> errPostC) =&gt; <a href="Cardano-TestUtils.html#t:PipelinedTestCase" title="Cardano.TestUtils">PipelinedTestCase</a> errPP errPreC errPostC input output -&gt; TestTree <a href="src/Cardano.TestUtils.html#pipelinedUnitCase" class="link">Source</a> <a href="#v:pipelinedUnitCase" class="selflink">#</a></p><div class="doc"><p>Behavior of this function:</p><ul><li>1.) All pre-processors are run in order from left to right on the arguments.
  If any pre-processor returns a Left, then the resulting test case fails with
  the appropriate error message.</li><li>2.) All pre-condition checks are run on the pre-processed arguments.
  If any pre-condition checks return Nothing, then the resulting test case fails
  with the appropriate error message.</li><li>3.) The pre-processed arguments are fed to the script.</li><li>4.) The results of (3) are checked against each post-condition.
  If any of the post-condition checks fail, the test case fails with the appropriate
  error message</li><li>5.) If none of the above checks cause a failure, the test succeeds.</li></ul></div></div><a href="#g:12" id="g:12"><h1>TxFCEKMachinery</h1></a><a href="#g:13" id="g:13"><h2>Generic TxF TestCase</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TxFCEKCase" class="def">TxFCEKCase</a> errPP errPreC errPostC <a href="src/Cardano.TestUtils.html#TxFCEKCase" class="link">Source</a> <a href="#t:TxFCEKCase" class="selflink">#</a></p><div class="doc"><p>A sum type of the errors for a TxFCEKCase</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TxFCEKInput" class="def">TxFCEKInput</a> <a href="src/Cardano.TestUtils.html#TxFCEKInput" class="link">Source</a> <a href="#t:TxFCEKInput" class="selflink">#</a></p><div class="doc"><p>The arguments needed to run a YTxP-style transaction family (single script)
on the CEK Machine. Includes a script context, and the script itself.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TxFCEKInput" class="def">TxFCEKInput</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:cekScriptContext" class="def">cekScriptContext</a> :: ScriptContext</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cekScript" class="def">cekScript</a> :: Script</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:TxFCEKInput">Instances</h4><details id="i:TxFCEKInput" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TxFCEKInput:Show:1"></span> <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Cardano-TestUtils.html#t:TxFCEKInput" title="Cardano.TestUtils">TxFCEKInput</a></span> <a href="src/Cardano.TestUtils.html#line-246" class="link">Source</a> <a href="#t:TxFCEKInput" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TxFCEKInput:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-TestUtils.html">Cardano.TestUtils</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Cardano-TestUtils.html#t:TxFCEKInput" title="Cardano.TestUtils">TxFCEKInput</a> -&gt; <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Cardano-TestUtils.html#t:TxFCEKInput" title="Cardano.TestUtils">TxFCEKInput</a> -&gt; <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Cardano-TestUtils.html#t:TxFCEKInput" title="Cardano.TestUtils">TxFCEKInput</a>] -&gt; <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TxFCEKInput:Eq:2"></span> <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Cardano-TestUtils.html#t:TxFCEKInput" title="Cardano.TestUtils">TxFCEKInput</a></span> <a href="src/Cardano.TestUtils.html#line-246" class="link">Source</a> <a href="#t:TxFCEKInput" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TxFCEKInput:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-TestUtils.html">Cardano.TestUtils</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Cardano-TestUtils.html#t:TxFCEKInput" title="Cardano.TestUtils">TxFCEKInput</a> -&gt; <a href="Cardano-TestUtils.html#t:TxFCEKInput" title="Cardano.TestUtils">TxFCEKInput</a> -&gt; <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../../ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Cardano-TestUtils.html#t:TxFCEKInput" title="Cardano.TestUtils">TxFCEKInput</a> -&gt; <a href="Cardano-TestUtils.html#t:TxFCEKInput" title="Cardano.TestUtils">TxFCEKInput</a> -&gt; <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../../ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TxFCEKOutput" class="def">TxFCEKOutput</a> <a href="src/Cardano.TestUtils.html#TxFCEKOutput" class="link">Source</a> <a href="#t:TxFCEKOutput" class="selflink">#</a></p><div class="doc"><p>The data produced by the CEK machine when run against a TxFCEKInput.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TxFCEKOutput" class="def">TxFCEKOutput</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:cekResult" class="def">cekResult</a> :: <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> EvalError Script</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cekExBudget" class="def">cekExBudget</a> :: ExBudget</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cekLogs" class="def">cekLogs</a> :: [<a href="../../ghc-9.6.7/html/libraries/text-2.0.2/Data-Text.html#t:Text" title="Data.Text">Text</a>]</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:TxFCEKOutput">Instances</h4><details id="i:TxFCEKOutput" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TxFCEKOutput:Show:1"></span> <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Cardano-TestUtils.html#t:TxFCEKOutput" title="Cardano.TestUtils">TxFCEKOutput</a></span> <a href="src/Cardano.TestUtils.html#line-254" class="link">Source</a> <a href="#t:TxFCEKOutput" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TxFCEKOutput:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-TestUtils.html">Cardano.TestUtils</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Cardano-TestUtils.html#t:TxFCEKOutput" title="Cardano.TestUtils">TxFCEKOutput</a> -&gt; <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Cardano-TestUtils.html#t:TxFCEKOutput" title="Cardano.TestUtils">TxFCEKOutput</a> -&gt; <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Cardano-TestUtils.html#t:TxFCEKOutput" title="Cardano.TestUtils">TxFCEKOutput</a>] -&gt; <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TxFCEKOutput:Eq:2"></span> <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Cardano-TestUtils.html#t:TxFCEKOutput" title="Cardano.TestUtils">TxFCEKOutput</a></span> <a href="src/Cardano.TestUtils.html#line-254" class="link">Source</a> <a href="#t:TxFCEKOutput" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TxFCEKOutput:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-TestUtils.html">Cardano.TestUtils</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Cardano-TestUtils.html#t:TxFCEKOutput" title="Cardano.TestUtils">TxFCEKOutput</a> -&gt; <a href="Cardano-TestUtils.html#t:TxFCEKOutput" title="Cardano.TestUtils">TxFCEKOutput</a> -&gt; <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../../ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Cardano-TestUtils.html#t:TxFCEKOutput" title="Cardano.TestUtils">TxFCEKOutput</a> -&gt; <a href="Cardano-TestUtils.html#t:TxFCEKOutput" title="Cardano.TestUtils">TxFCEKOutput</a> -&gt; <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../../ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:mkTxFCEKCase" class="def">mkTxFCEKCase</a> <a href="src/Cardano.TestUtils.html#mkTxFCEKCase" class="link">Source</a> <a href="#v:mkTxFCEKCase" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> (errPP :: <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (errPreC :: <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (errPostC :: <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>Name of the test case</p></td></tr><tr><td class="src">-&gt; [<a href="Cardano-TestUtils.html#t:PreProcessor" title="Cardano.TestUtils">PreProcessor</a> errPP <a href="Cardano-TestUtils.html#t:TxFCEKInput" title="Cardano.TestUtils">TxFCEKInput</a>]</td><td class="doc"><p>List of pre-processors over something like (Maybe Datum, Redeemer, ScriptContext, Script)</p></td></tr><tr><td class="src">-&gt; [<a href="Cardano-TestUtils.html#t:PreCondition" title="Cardano.TestUtils">PreCondition</a> errPreC <a href="Cardano-TestUtils.html#t:TxFCEKInput" title="Cardano.TestUtils">TxFCEKInput</a>]</td><td class="doc"><p>List of pre-condition checks over something like (Maybe Datum, Redeemer, ScriptContext, Script)</p></td></tr><tr><td class="src">-&gt; <a href="Cardano-TestUtils.html#t:TxFCEKInput" title="Cardano.TestUtils">TxFCEKInput</a></td><td class="doc"><p>Something like (Maybe Datum, Redeemer, ScriptContext, Script)</p></td></tr><tr><td class="src">-&gt; [<a href="Cardano-TestUtils.html#t:PostCondition" title="Cardano.TestUtils">PostCondition</a> errPostC <a href="Cardano-TestUtils.html#t:TxFCEKOutput" title="Cardano.TestUtils">TxFCEKOutput</a>]</td><td class="doc"><p>Post-conditions over something like (Either EvalError Script, ExBudget, [Text])</p></td></tr><tr><td class="src">-&gt; <a href="Cardano-TestUtils.html#t:TxFCEKCase" title="Cardano.TestUtils">TxFCEKCase</a> errPP errPreC errPostC</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Create a TxFCEKCase by filling in the computation via running the script.</p></div></div><div class="top"><p class="src"><a id="v:txfCEKUnitCase" class="def">txfCEKUnitCase</a> :: <span class="keyword">forall</span> (errPP :: <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (errPreC :: <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (errPostC :: <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> errPP, <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> errPreC, <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> errPostC) =&gt; <a href="Cardano-TestUtils.html#t:TxFCEKCase" title="Cardano.TestUtils">TxFCEKCase</a> errPP errPreC errPostC -&gt; TestTree <a href="src/Cardano.TestUtils.html#txfCEKUnitCase" class="link">Source</a> <a href="#v:txfCEKUnitCase" class="selflink">#</a></p></div><a href="#g:14" id="g:14"><h3>Nominal Tests</h3></a><div class="top"><p class="src"><a id="v:nominalPostCondition" class="def">nominalPostCondition</a> :: ((EvalError, [<a href="../../ghc-9.6.7/html/libraries/text-2.0.2/Data-Text.html#t:Text" title="Data.Text">Text</a>]) -&gt; err) -&gt; <a href="Cardano-TestUtils.html#t:PostCondition" title="Cardano.TestUtils">PostCondition</a> err <a href="Cardano-TestUtils.html#t:TxFCEKOutput" title="Cardano.TestUtils">TxFCEKOutput</a> <a href="src/Cardano.TestUtils.html#nominalPostCondition" class="link">Source</a> <a href="#v:nominalPostCondition" class="selflink">#</a></p><div class="doc"><p>A post condition for checking whether the script execution succeeded or failed
You must supply a way to turn a generic evaluation error into your domain-specific
error type</p></div></div><div class="top"><p class="src"><a id="v:nominalCaseBasic" class="def">nominalCaseBasic</a> <a href="src/Cardano.TestUtils.html#nominalCaseBasic" class="link">Source</a> <a href="#v:nominalCaseBasic" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>Name of the test case</p></td></tr><tr><td class="src">-&gt; ScriptContext</td><td class="doc"><p>Nominal context to apply Nominal</p></td></tr><tr><td class="src">-&gt; Script</td><td class="doc"><p>Nominal to apply</p></td></tr><tr><td class="src">-&gt; <a href="Cardano-TestUtils.html#t:TxFCEKCase" title="Cardano.TestUtils">TxFCEKCase</a> <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A basic nominal case unit test.
Only checks if the script succeeds; does not do pre-processing, pre-condition checking,
or other post-condition checks.</p><p>Throws a generic <a href="String.html">String</a> error (not domain-specific)</p></div></div><a href="#g:15" id="g:15"><h3>Attack Tests</h3></a><div class="top"><p class="src"><a id="v:attackCaseRegexPostCondition" class="def">attackCaseRegexPostCondition</a> <a href="src/Cardano.TestUtils.html#attackCaseRegexPostCondition" class="link">Source</a> <a href="#v:attackCaseRegexPostCondition" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: ((<a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a>, [<a href="../../ghc-9.6.7/html/libraries/text-2.0.2/Data-Text.html#t:Text" title="Data.Text">Text</a>]) -&gt; err)</td><td class="doc"><p>A way to go from the number of matches (if unequal to 1) and the logs to
 a domain-specific error</p></td></tr><tr><td class="src">-&gt; RE</td><td class="doc"><p>The regular expression to match against. It must match exactly once
 for the post-condition check to pass</p></td></tr><tr><td class="src">-&gt; <a href="Cardano-TestUtils.html#t:PostCondition" title="Cardano.TestUtils">PostCondition</a> err <a href="Cardano-TestUtils.html#t:TxFCEKOutput" title="Cardano.TestUtils">TxFCEKOutput</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The attackCaseRegex-style functions will fail with
  - A (Nothing, [Text]) if the script succeeds. [Text] in the tuple contains the logs.
  - A (Just Int, [Text]) if the script fails, but the regex does not match exactly once.
    The int contains the number of matches</p></div></div><div class="top"><p class="src"><a id="v:attackCaseBasicRegex" class="def">attackCaseBasicRegex</a> <a href="src/Cardano.TestUtils.html#attackCaseBasicRegex" class="link">Source</a> <a href="#v:attackCaseBasicRegex" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>Name of the test case</p></td></tr><tr><td class="src">-&gt; RE</td><td class="doc"><p>Expected Failure String Match; TODO: This can be improved. Maybe use
 a discriminated error sum type with a injective string mapping?</p></td></tr><tr><td class="src">-&gt; ScriptContext</td><td class="doc"><p>Nominal context to apply attack</p></td></tr><tr><td class="src">-&gt; Script</td><td class="doc"><p>The script to execute</p></td></tr><tr><td class="src">-&gt; <a href="Cardano-TestUtils.html#t:PreProcessor" title="Cardano.TestUtils">PreProcessor</a> errPP <a href="Cardano-TestUtils.html#t:TxFCEKInput" title="Cardano.TestUtils">TxFCEKInput</a></td><td class="doc"><p>Attack to apply</p></td></tr><tr><td class="src">-&gt; <a href="Cardano-TestUtils.html#t:TxFCEKCase" title="Cardano.TestUtils">TxFCEKCase</a> errPP <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../../ghc-9.6.7/html/libraries/base-4.18.3.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Generate an &quot;attack case&quot; test tree, given a name, an expected failure condition,
the arguments to the script, an attack, and the script itself.</p><p>The expected failure condition is matched as a regex. It must match the logs exactly once.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>